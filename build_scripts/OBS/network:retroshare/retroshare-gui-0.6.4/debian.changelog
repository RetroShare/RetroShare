retroshare (0.6.4) stable; urgency=low
	
    Many improvements
 
 -- Gioacchino Mazzurco <gio@eigenlab.org>  Tue, 20 Feb 2018 15:40:00 +0100


retroshare (0.6.3) stable; urgency=low
	
    Many improvements
 
 -- Gioacchino Mazzurco <gio@eigenlab.org>  Tue, 20 Feb 2018 15:40:00 +0100

retroshare06 (0.6.0-1.1~precise) precise; urgency=low

   GUI
      - improved filtering method against lol bombs. Thx to ConcernedCitizen for pointing this out
      - fix #21 typo "defaut" instead of "default" in switch statement in RSGraphWidget (patch from Chozabu)
      - moved all bw graph files in statistics. Removed outqueue info widget. Created new cpp files to host the bw graph code. 
        Started minimal UI to display bw information. The goal is t
      - fixed position of scaled/highlighted nodes in node graph (patch from Chozabu)
      - fixed a few bugs in statistics GUI. Still misses names and proper curve display
      - Enabled Messenger Window in system tray icon.
      - Fixed overlay icon (star) for tray icon.
      - fixed up various places in the GUI for high DPI screens (new icons and icon qrc file generation script, font-size based widgets, etc)
      - disable update of group messages for IdService since it is unused and takes some bandwidth
      - fixed typo in server page "127.0.01"
      - Added stylesheet to plugins.
      - Moved fix font from GenCertDialog to qss (Modified patch from Henry). Added defaults to ui without style sheet
      - Fixed typo in string (Patch from Henry).
      - Added customize of columns to RSTreeWidget.
      - added back functionality to choose DL directory for each channel
      - Removed generate of channel messages.
      - FriendList: - Added customize of columns with RSTreeWidget. - Reduced display menu.
      - Optimized fill of forums when modifying the read state.
      - Fixed compile with Qt 5
      - Added disable/enable of GxsIdDetails process. Disabled GxsIdDetails process when filling gxs id's in forums.
      - Optimized load of forums by moving the avatar handling for the tooltip to the tooltip creation.


    added correct image file for finished transfers

      - added correct image file for finished transfers

   Backend / Coverity bug fixes
      - removed old function entry to collect outqueue stats.
      - removed unused method for OutQueue statistics; improved BW curve display; fixed a few display bugs
      - Added missing initialization in - pqissl - pqissludp - PeerConnectStateBox - RsTlvBanListEntry - RsServer 
        TcpStream - PGPCertificateInfo - peerConnectAddress - AudioInputConfig
      - Fixed usage of member _thread_id in RsMutex
      - Removed unused member from ProfileManager.
      - Added missing restore of ostream format (std::dec) in rschatitems.cc.
      - Added missing restore of ostream format (std::dec) in CreateLobbyDialog::createLobby.
      - Fixed crash in ChatMsgItem::removeItem when "mParent == NULL".
      - Added missing restore of ostream format (std::dec) in p3ServiceServer::sendItem.
      - Fixed crash in ChatLobbyUserNotify::subMenuClicked when using "Remove All" of the chat lobby notifier.
      - Fixed possible crash in DetailsDialog::setFileHash by checking return value of dynamic_cast.
      - Fixed possible crash in ftServer::receiveTurtleData by checking return value of dynamic_cast.
      - Fixed possible crash in ftServer::handleIncoming by checking return value of dynamic_cast.
      - Fixed possible crash in ServiceControlSerialiser by checking return value of dynamic_cast.
      - Fixed possible crash in RsFileTransferSerialiser by checking return value of dynamic_cast.
      - Fixed possible crash in ChatLobbyDialog::init by checking return value of dynamic_cast.
      - Fixed possible crash in RsGRouterSerialiser by checking return value of dynamic_cast.
      - added basic functions to collect bandwidth info in pqistreamer both ways; added a sorting method in BWGraphSource 
        to create curves from extracted BW info. Still not yet functiona
      - Fixed possible crash in RsGxsIdSerialiser by checking return value of dynamic_cast.
      - Fixed possible crash in p3GRouter by checking return value of dynamic_cast.
      - Removed dead code from ImHistoryBrowser::fillItem.
      - Removed potentially unintentional integer overflow in NxsBandwidthRecorder::recordEvent.
      - Added initialize of RsGxsChannelPost members.
      - fixed potential integer problem in image de-serialization (reported by HM)
      - Added initialize of RsVOIPPingItem members
      - fixed potential integer problems in de-serialization of different TLV items (patch from Henry)

   Plugins
      - fix #20 crash on shutdown with plugins enabled. Settings window did leak plugin config pages (patch from hunbernd)

   WebUI
      - allow only whitelisted link protocols to prevent javascript in links
      - improved error message in webui: show full path of file if read failed
      - make link detection work if the message ends with </a>
      - added chat
      - fix serialisation of floating point numbers in SuperEasyJSON for german locale. JSON expects decimal points, but german locale used comma.

   GXS IDs
      - added additional key checking for IDs received during distant chat DH handshake
      - added methods to check public/private keys for consistent fingerprint and content. Should be later used to check GXS keys when they arrive from neighbor nodes.

   Distant chat
      - Added check of function parameter to DistantChatService::handleRecvDHPublicKey.

 -- Cyril Soler <csoler@users.sourceforge.net>  Sun, 02 Aug 2015 16:00:00 +0100

retroshare06 (0.6.0-0.8551~precise) precise; urgency=low

   GUI

      * Used QTextBrowser to show the channel description for unsubscribed groups to avoid the horizontal growing of the channel list.
      * fixed pasting of rslinks with special characters with Qt5
      * fixed strings in IdDialog (patch from Henry)
      * Optimized fill of feed items by moving the fill of the hidden area to the first expand of the frame.
      * make IP connect state string fully translatable (patch from Henry)
      * Use a better icon for "linked to your profile"
      * Enabled ordered/bullet list for Message Composer
      * changed default news feeds to include security_IP, remove Peer connects (this one drives most people crazy)
      * change label "Security Ip" to "Ip security" in feed settings(patch from Henry)
      * Added a second color button to Message Composer, for set text background color.
      * Changed parameter isFirstTimeRun of RsAccountsDetail::getAccountOptions to output parameter.
      * Added version information of the libraries to HelpDialog.
      * Added own flag and new checkbox in settings for security ip feed items.
      * Changed NewsFeed::addUnique for SecurityIpItem to compare the ip addresses. That avoids duplicates when IP changes.
      * Removed banner pixmap for the ConnectFriendWizard of the standard style.
      * QWizard cannot be resized horizontal when a banner pixmap is set.
      * fixed whitespaces in strings (patch from Henry)
      * changed "Owned by node" into "Owned by" in IdDialog (patch from Henry)
      * added explanation to IP change security item in a tooltip
      * Changed string "TOR" to "Tor" everywhere.
      * Fixed crash in context menu of the id list in IdDialog when no row is active.
      * disable IP filter tab when using a hidden node
      * Used ElidedLabel for the forum name to avoid the horizontal growing of the forum list.
      * Set the status of the message to read when the user read it in the news feed.
      * Remove the message news feed when the user reads the message in the message list.
      * Added warning to IdEditDialog, when the lenght of the nickname is too short or too long.
      * Used StyledElidedLabel for the nickname in Idialog to avoid the horizontal growing of the right widget.
      * Updated languages from Transifex

   Plugins
      * FeedReader: Added check for forum author.
      * Fixed VOIP linkage for ubuntu distributions (thx to Phenom)

   WebUI
      * added profile import/creation
      * fixed leaking file descriptors
      * added upload handler for small files
      * fixed terminal thread
      * removed some unused parameter warnings

   IP Filters
      * added check for whitelist before sending a Security item for IP changed.
      * improved voting for extr address, and make sure DHTStunner does not return a banned IP
      * removed/improved debug info

   Various code improvements
      * changed Radix64::decode to return result as std::vector
      * removed unused branch and dummy function in pqihandler
      * removed pqisecurity dummy functions. It is a packet filter which was never implemented. It's job is now done by service permissions.
      * fixed compilation for versions not using sqlcipher
      * added more debug info in pqissl when connection is attempted from banned address

   Bug fixes
      * Fixed using uninitialized variable in p3HistoryMgr::setSaveCount.
      * Fixed using uninitialized variable in p3HistoryMgr::setEnable.
      * Fixed uninitialized members of bdProxyId and bdConnectionRequest.
      * removed unused variable in TmpBlobStore
      * let interface classes initialise their integers
      * initialise BanListPeer::addr
      * let turtle reputation classes initialise their integers
      * let turtle items initialise their integers
      * Added destructor to p3LinkMgrIMPL.
      * Fixed memory leak in GuiExprElement.
      * added missing initialisation in p3GxsChannels
      * added missing initialisation in p3GxsCircles
      * added missing initialisation in p3GxsForums
      * removed useless ifs in rsaccounts.cc
      * added missing initialisation in resource_api::Request
      * added missing initialisation in ApiServerMHD
      * fixed potential mismatch free/delete[] in distant chat
      * added missing initialization for RsGXsIdGroup::mLastUsageTS
      * added check for return value of fseek in ftFileProvider
      * fixed potential memory leak in pgphandler
      * fixed memory leak in FileIndexStore
      * fixed uninitialised memory read in RsGxsNetUtils
      * fixed Chat Lobby gui complaining about wrong string passed to RsGxsId constructor
      * added missing delete in p3GeneralConfig
      * Added proper shutdown of the plugins with remove of the service and dlcose of the plugin handle.
      * fixed unlikely but possible invalid read in formatting of bandwidth numbers
      * fixed potential use after free in openpgpsdk
      * fixed double free in openpgpsdk
      * added missing socket close in pqissllistenbase destructor
      * added missing free and fclose in FileIndex
      * fixed potential invalid memory read in openpgpsdk
      * Removed unload of the plugins, because it causes a crash.
      * Fixed possible dereference of null pointer in NotifyPage.
      * Added missing breaks to p3GxsChannels::notifyChanges.
      * Fixed possible fread from a null pointer in HashCache.
      * Added missing breaks to p3GxsForums::notifyChanges.
      * Added missing break in p3GxsChannels::handle_event.
      * added missing size check in RsGxsRecognSerialiser
      * fixed password handling in deferred signature algorithm (in case of cancel, enter wrong passphrase, etc). Fixes the bug of 
        half-initialized identities not loading when cancel is pressed, or wrong passphrase is entered, at signature step.
      * improved login system: do not re-ask for passphrase when user clicks cancel. Removed warning stating that "maybe passphrase is wrong".
      * fixed another x64 serialisation bug in FeedReader (see rev8396)(thanks to Eugene Tooms)
      * Added missing dlcolse to RsPluginManager::loadPlugin.
      * Added proper handling of the handle of the loaded plugin.
      * Added check for trailing '/' of base directory in RsAccountsDetail::setupBaseDirectory.
      * avoid unwanted wait in in p3IdService that slowed down the entire app (thx to jolavillette for finding this)
      * Initialized the the member aes_key of DistantChatPeerInfo with memset.
      * Fixed memory leak in p3FeedReaderThread::processXPath.
      * Fixed uninitialized pointer read in FlowLayoutItem::dropEvent.
      * Fixed memory leak in RsGenExchange::publishGrps.
      * Fixed memory leak in RsGenExchange::publishMsgs.
      * Fixed memory leak in DistantChatService::locked_sendDHPublicKey.
      * Added missing fclose to RsAccountsDetail::loadPreferredAccount.
      * Added missing fclose to ApiServerMHD::accessHandlerCallback.
      * Fixed memory leak in RsRecogn::createTagRequest
      * Fixed memory leak in DistributedChatService::invitePeerToLobby when lobby not found.
      * Fixed memory leak in LookupDNSAddr.
      * Fixed momory leak in RsDirUtil::getFileHash when the file doesn't exist.
      * Fixed memory leak when RsServicePermissionItem::deserialise failed.
      * Fixed uninitialised member in bdNodeManager
      * fixed another uninitialised memory read in bitdht
      * fixed uninitialised memory in bdfilter
      * removed 2 unused members from FileDetails in ftextralist
      * fixed situation leading to uninitialised message content in MessageDialog
      * fixed use of wrong variable in GxsGenExchange
      * fixed uninitialised variable in RSCollectionDialog
      * removed ambiguous expression that confuses coverity, in TransfersDialog
      * fixed access of delete iterator
      * removed false positive access beyond range of iterator
      * removed possibility to access invalidated iterator in grouter
      * fixed invalid use of wrong iterator in GXS reputation system
      * fixed bug in using invalid iterator in ChatLobbyNotify
      * fixed wrong use of flags in pqibin (wtf??)
      * remove potential use of deleted item in rsRecogn
      * fixed use of pointer after memory ownership transferred to QCache
      * fixed potential passing of deleted item to sendChatItem when a ChatLobbyItem is too big (would probably cause a crash. Found using coverity)
      * fixed call to strncpy in network interface determination code which leaves unterminated string if strlen(ifptr->if_name)==16

 -- Cyril Soler <csoler@users.sourceforge.net>  Sun, 21 June 2015 22:00:00 +0100

retroshare06 (0.6.0.RC1-0.8401~trusty) trusty; urgency=low

   GUI
      * added IP banlist system to fight large scale traffic analysis using IP masquerading
      * added security item for connection denial due to IP blacklist/whitelist
      * make conclusionPage handle all make friend events 
      * added search and highlighting to network graph (patch from Chozabu)
      * Fixed typos in strings (Patch from Henry).
      * fixed avatar display
      * Set default stylesheet for the Edit Identity info label.
      * fix black background in chunkmap display with Qt5 (patch from sehraf)
      * added testing button for incoming TOR connections ;-)
      * improved GenCertDialog (patch from Henry)
      * Fixed layout of the ip addresses in ConfCertDialog
      * added additional button to show statistics window in settings->node
      * added a button to clear the IP address list. Also started to add
        diagnostic for TOR status. This is unfinished so it does not work yet.
        Show if TCP connection is incoming or outgoing (modified patch from sehraf)

   WebUI
      * added webUI files
      * updated rules so as to include webui files in rs-nogui package
      * webui: allow to set peer flags when adding friends (whitelist flag is set to false)

   VOIP/plugins
      * Beautfy the stylesheet for the "Accept Call" Button, display notify text for voip calls too.
      * set RS_REVISION_NUMBER to 1 to avoid plugin loading failure if no version is set
      * Beautify Answer Button for VOIP Toaster
      * Display peername on voip notify text
      * fixed memory leak in voip plugin
      * added toasters for incoming audio/video call to voip plugin (patch from Phenom)
      * show error string form plugin loading as tooltip in gui (patch from Phenom)
      * reduce memory corruption in voip plugin

   GXS
      * hide voting buttons in channels (backend is missing)
      * added virtual destructor to RsNetworkExchangeService (patch from Cyril)
      * added missing mutex in idservice
      * Renamed RS_TLVKEY_DISTRIB_PRIVATE into *_PUBLISH, as it is used as such.
      * Allow to check signatures and validate groups using private keys in GxsSecurity
      * removed inconsistency in key flags when full keys where mixed up with publish keys.
      * improved IdEditDialog: added explanation text, removed unused space
      * in ChatLobbyWidget: show dialog to create a new identity when there is no own identity

      This should fix the following bugs:
      * channel owners did not receive posts from other peers who have publish rights
      * channels sometimes not gettign through

      * Removed randomly forced updating of GUI in RsGxsUpdateBroadcastBase
      * Added group changed notify when visible count or suppliers count of a group has changed
      * Fixed suppliers count

   Forums
      * show new identity dialog when creating a forum post and no identities exist

   Messages
      * prevent crafted  distant msgs with partial message flag set (Patch from Henry)
      * replaced multiple location warning with a location selector menu
      * added chat friend and message friend actions to FriendsList/Friend context menu
      * Fixed layout of From, Recipient, Subject and Tags in MessageComposer.

   Discovery
      * don't overwrite own/friends IPs with discovery info (patch from Cyril)

   Other
      * Added check of account directory (check for missing subdirectories) in RsInit::InitRetroShare
      * fixed uninitialised memory read in AuthGPG
      * listen on localhost if node is a hidden node (patch from Henry)
      * moved the stop order up to RsThread to ease the test for stopping order in  single job threads
      * created 2 subclasses of RsThread, one for ticking services, and one for single shot jobs. 
         Now all threads use the same base code. Moved semaphore based thread logic up to RsThread. 
         This should help terminating service threads properly and possibly remove the SIGSEGV when 
         quitting
      * added hability to disconnect friends which report our own IP as something different than what 
        we know. Removed a test in discovery2 that prevented sending info to a peer about himself. 
        Not active yet since it needs some testing

 -- Cyril Soler <csoler@users.sourceforge.net>  Thu, 04 June 2015 18:00:00 +0100

retroshare06 (0.6.0-0.8263~vivid) vivid; urgency=low

   GUI 
      * force loading of own ID to get a proper name to display in chat lobby dialog
      * improved alignment of IPs in friend list
      * improved layout of forum thread widget. Removed one almost empty line. Hide unscribe button when already subscribed.
      * updated names of transfers and server pages in config
      * only show relevant entries in statistics graphs
      * improved RSGraphWidget to take the current time as reference for all curves
      * fixed PGP/SSL key size combo box in certificate creation wizard (patch from sehraf, modified)
      * fixed text in transfers dialog popup menu
      * disable signature checkbox when the certificate only has self signature in ConfCertDialog
      * replace identity with profile in GernCertDialog (patch from Henry)
      * attempt to improve/clarify relationship between nodes and PGP keys. Removed duplicate options and splitted ConfCerDialog into a dialog 
        to show nodes certificates and PGP key information
      * removed useless thread line in forums, kept link copy functionality, used a GxsIdLabel to show the by_label correctly, 
         added hide/show of labels when not useful

      * fixed typo in naming and removed inconsistent entries from friend list menu.
      * fixed comment voting
      * hide unimplemented reputation functions in comment tree widget
      * improved text of gxs share group key feature in posted and channels
      * use random port >=1024 (patch from sehraf)
      * fixed creation and edit of channel/forum/posted group. Force display of correct stacked widget page in GxsGroupDialog.
      * re-enabled hide of status column in friends list
      * show group owner in channel/forum/posted's details tab
      * show forum admin/author in gui
      * show gxs message store period in gui, set forums store period to one year
      * allow 30 unicode symbols for identity name, instead of 30 bytes
      * Saved size of participants list in profile.
      * Removed show/hide button to get more space. The participants list can be colapsed by moving the splitter to the right frame border.
      * removed useless column in forum thread widget

   VOIP
      * Renaming all to VOIP in VOIP plugin (patch from Phenom)
      * fixed wrong names in comment and debug output (patch from Phenom)
      * fixed opencv dependencies for all systems using pkg-config

   WebUI
      * redesigned friends list
      * added friendly units on downloads page
      * added progress bar on downloads page
      * fixed makefile directories and updated readme
      * fixed path in webui readme
      * added hint to check if port is already in use if webinterface failed to start
      * fixed wrong path in libresapi readme
      * fixed crash in rs-gui when stopping webui
      * webui: added display of own cert
      * added string escape in SuperEasyJSON serialization
      * added terminal restore to rs-nogui on linux. Enabled compile of webui in rs-nogui.

   GXS
      * randomly force full update of RsGxsUpdateBroadcastBase so as to get fresh statistics about GXS groups from time to time
      * simple hack to have non active groups gradually loose popularity and number of posts.

   Packaging
      * additional fix to packaging on squeeze
      * updated bubba3 (squeeze+armel) packaging scripts

   Bug fixes:
      * fixed bug in global router causing SIGSEGV in some cases
      * Removed maximum value from chat lobby participants list.

 -- Cyril Soler <csoler@users.sourceforge.net>  Thu, 15 May 2015 18:00:00 +0100


retroshare06 (0.6.0-0.8196~precise) precise; urgency=low

   GUI
      * changed sound button tooltip
      * added auto subscribe status to lobby tooltip
      * removed wrong info from forums help
      * added checkbox to hide offline peers in permission matrix (modified patch from sehraf)
      * fixed rslinks with "
      * proper sorting of peers by connection state in permission matrix (patch from Sehraf)
      * added for hidden label own stylesheet

   MSG
      * fixed memory leak and potential crash due to not copying items passed to config saving in messages. 
        Added save/load for map between GRouter and Msg ids which fixes the never removed outgoing messages
      * fixed small bug in global router causing incoming messages to be in SENT mode
      * improved display of grouter internal info
      * fixed a few bugs in global router, eliminated duplicate messages, improved routing logic

   VOIP
      * add popup when get incoming VOIP call
      * removed RTT statistics tab from VOIP plugin as it is already provided in Statistics

   General code change
      * updated packaging scripts. Disabled libssh, protobuf; enabled webui, added dependencies in libmicrohttpd
      * marked unimplemented methods in rsgxsnetservice.h
      * disabled some useless old branches in the flushing of incoming items due to calling pqihandler::tick() and 
         pqipersongrp::tickServiceRecv which caused ghost items to print out at start
      * fixed error msg due to broadcast chat trying to call statusUpdate()

   Bugs
      * only reset GxsIdChooser to default item on first load. Fixes the bug of current identity that keeps changing in chat lobbies
      * attempt at fixing crash that shoult not happen in rsgxsutil.cc
      * fixed chat lobby context menu to allow to toggle auto subscribe

   WebUI:
      * use same docroot in retroshare-nogui as in retroshare-gui
      * hide login/shutdown when running in retroshare-gui
      * added better live reload. It uses the Retroshare built in server. Grunt is not required anymore.
      * removed unused buttons
      * started ChatHandler
      * enabled webui to show own locations
      * added web interface to tray menu
      * fixed wrong account numbering in retroshare-nogui
      * added web interface to retroshare-gui

 -- Cyril Soler <csoler@users.sourceforge.net>  Tue, 30 Apr 2015 21:00:00 +0100

retroshare06 (0.6.0-0.8120~precise) precise; urgency=low

   GUI
      * fix for revision number in ubuntu/debian (patch from heini, untested)
      * fixed compile on Linux with Qt5 (patch from sehraf)
      * fixed display of TOR information for hidden nodes (patch from Sehraf)
      * improved display of ciphers giving TLS version
      * changed default cert name so that v0.6 and v0.5 do not use the same file

   Connexions
      * pqistreamer: only allocate incoming buffer when needed, free incoming buffer when not needed anymore
      * removed old code in rsiface/p3face
      * detach pqistreamer threads to allow resource cleanup or re-use
      * added missing delete in p3discovery2::processContactInfo()

   GXS
      * added missing delete in gxsnetservice

   FT
      * fixed bug causing re-hashing of all files in some situations, and possibly preventing file lists 
         to transfer between 
   Debug
      * reduced size of output for buggy RsItems

   WebUI
      * added support for multiple client threads to ApiServer
      * added api client which reads the password from stdin. This allows to login from the webinterface and 
        from the terminal at the same time.
      * added html/css/js files for the webinterface

 -- Cyril Soler <csoler@users.sourceforge.net>  Tue, 14 Mar 2015 16:00:00 +0100

retroshare06 (0.6.0-0.8098~precise) precise; urgency=low

   GUI
      * improved profile creation wizard: Hide by default key length combobox, for advanced users get visible 
         via advanced checkbox; Set stylesheet for a Info Label; Changed Window icon to higher resolution;
         Not show too much technical detail on a info Label.
      * Fixed path of config file RSPeers.conf
      * improvement of FriendList (Patch from Sehraf)
      * added scale and wheel-event resizing to RSGraphWidget

   Chat lobbies
      * fixed up nickname completion in chat lobbies
      * new notify capability of chat lobbies: message counting, nickname occurrence counting and specific text 
        counting. Also sorts out notify tab in Settings (Patch from Phenom, slightly modified: gui layout/text 
        + added a flag to enable/disable user defined text grep)
      * fixed bug with default chat lobby identity causing settings to show an empty list. Also fixed up GxsIdChooser

   WebUI (not enabled yet)
      * added Content-Type headers, added redirect to index.html
      * updated SuperEasyJSON
      * fixed redefinition warning of MSG_WAITALL on windows/mingw491
      * limited webinterface to localhost by default, added command line option to listen on all interfaces
      * allow RsControlModule to work without control over RsInit (e.g. with rs-gui)
      * disabled file streaming for libmicrohttpd < 0.9.31-1
      * added command line parameters for webui port and base directory.

   Div.
      * fixed a few missing deletes when handling errors in grouter. Experimenting a new scope guard to hold 
        temporary memory. (Patch from GuessWho, modified)
      * disabled debug print of DHT requests, disabled debug print in p3Peers::getProxyServer(), added missing 
         newlines in debug prints (modified patch from Hypfer)
      * added missing return statement in RsDirUtil::saveStringToFile() (thx to sehraf)
      * don't store name, location name and date in new SSL certs. Location name is now stored in an extra file. 
         Backward compatible to old locations and old peers.
      * fix data directory on Linux, use new path /usr/share/RetroShare06
      * fixed constructors in button-on-text widget (Patch from Phenom)

   Messages
      * fixed distant peer naming in combo box for recipient selection.
      * fixed naming and completion in recipient addresses in MessageComposer
      * fixed icons in FriendSelectionWidget and MsgComposer. Also added disable/enable for From field 
        depending on which type of recipient is used
      * Updated GUI to use new Message / Mail interface. Configuration is in MessageInterface.h for the moment
      * Modify Messages with additional namespace - to allow switching to new Mail.
      * use RSLinks to handle recommendation message (Patch from Sehraf)

   VOIP
      * added notification for VOIP calls (Patch from Phenom)

   Bug fixes
      * added test to prevent using twice the same config file; changed duplicate config file name causing 
         deserialisation errors and loss of some config files; added printout of hex code for RsItems that 
         fail deserialisation

 -- Cyril Soler <csoler@users.sourceforge.net>  Tue, 14 Mar 2015 16:00:00 +0100

retroshare06 (0.6.0-0.8060~utopic) utopic; urgency=low

   GUI
      - Fixed content of GxsIdChooser for Qt 5 by setting dynamicSortFilter to false.
      - Change in the default value (Qt 4 = false, Qt 5 = true)
      - made 2 different pages in ConfCertDialog for PGP key and RS certificate. Removed the old format checkbox.
      - fixed update of info in ShareDialog (patch from Sentry). Updated the text to replace 
        Friends by friend nodes
      - added check for empty author id in gxs group creation
      - GxsIdChooser: request only data for own ids (was requesting all ids before)
      - Click on a certificate in a message (MessageWidget) shows the add friend wizard only once.
      - Added one more check of RsAutoUpdatePage::eventsLocked to GxsIdDetails::process
      - added mask to select which icons to show in RsGxsIdTreeWidgetItem. Kept only avatar in 
        ChatLobby participant list

   GXS   
      - use notify for gxs events. Removed the previous polling based system. Now multiple clients 
        can receive gxs changes. This also fixes the always growing changes queue in rs-nogui.
      - GxsGroupDialog: allow to create groups (e.g. channels, forums, posted) without an author

   Chat
      - made signature verification pass when no key is present in the cache for lobby events
      - increased responsivness of distant chat by forcing tunnel re-digging when no activity is 
        detected. WARNING: the new timestamps make the communication break will peers not up to date, 
        since they will not send keep alive packets on the same delay basis.
      - removed dead code in chat lobbies
      
   Channels
      - removed the constraint of sharing own files only in channels. Replaced it by a warning, 
         to allow peers to post from other locations etc. (port from v0.5.5 rev. 6198)
      - Added waiting indicator to group tree for channels/posted when using "Mark all as read/unread".

   PGP
      - commented out unused (and buggy) function in authgpg
      - fixed self-signature checking for imported keys, previously causing imported certificates 
         with signatures to be rejected. Also fixes bug preventing discovery to send signatures.

   WebUI
      - added resource_api and rs-nogui-webui (requires libmicrohttpd, Html files are not included)
      - added microhttpd-dev as an additional dependency in packaging script
      
   Other
      - fixed compile with different versions of libmicrohttpd       
      - fixed serialisation bug likely causing the loss of peers.cfg (Thx G10H4ck for finding this)

 -- Cyril Soler <csoler@users.sourceforge.net>  Tue, 14 Mar 2015 16:00:00 +0100

retroshare06 (0.6.0-0.8018~precise) precise; urgency=low

   Improvements
      * Identities
         - moved signature validation and encryption one level up into p3IdService. 
         - Added timestamp for GXS identities and auto-removal after 30 days. Updated display in IdDialog

      * GUI
         - Moved TokenQueue, TokenResponse, UIStateHelper and mGroupId from the classes GxsMessageFramePostWidget/GxsForumThreadWidget 
           to the base class GxsMessageFrameWidget.
         - Optimized search of feed items in RSFeedWidget by using a map instead of QTreeWidgetItemIterator.
         - Fixed missing notify of changed message ids to the gui.
         - use right status ions

      * GXS
         - Reduced locking time of mutex in RsGenExchange::processMsgMetaChanges and RsGenExchange::processGrpMetaChanges.

      * Chat lobbies
         - Added re-check of "Not found" identities for chat lobby participants list.
         - Added check of RsAutoUpdatePage::eventsLocked to GxsIdDetails::timerEvent.

      * Packaging
         - fixed packaging script modifying wrong version file
   Bugs
      * attempt to fix the deadlock situations in pqithreadstreamer. Also solves the crash when quitting

 -- Cyril Soler <csoler@users.sourceforge.net>  Tue, 14 Mar 2015 16:00:00 +0100

retroshare06 (0.6.0-0.8004~precise) precise; urgency=low

   Improvements
      * GUI
         - Fixed display of version information.
         - Optimized GxsIdDetails::process to load the gxs details directly when the caller is the gui thread.
         - Removed not used base class GxsIdTreeWidget.
            Used QPixmap instead of QIcon to draw the gxs image in GxsIdTreeWidgetItem.
            Fixed use of transparent background in GxsIdDetails::GenerateCombinedPixmap 
            (formerly GxsIdDetails::GenerateCombinedIcon).
         - hide reputations which are not used yet (patch from sehraf)

      * Channels/Forums/Posted
         - Fixed refill of author column in forums.
         - Trimmed whitespace from URL to fix internal retroshare links.
         - Added Retroshare links support to PostedItems (don't seem to work yet).
         - Enabled cancel button in CreateComment Dialog.
         - avoid calling rsGxsChannels::setMessageReadStatus() when the message status is already what 
            we want. Removed one warning that has been cleared.
         - improved GUI for Posted
         - Hide share of key in forums
         - Hide score label in channel post item
         - Fixed GUI - to allow people to post to subscribed Topics.

      * Messages
         - removed mentions to encrypted messages. Replaced by distant, with the appropriate flags. Removed old 
            msg encryption code
         - fixed recommendation signature (patch from sehraf)
         - added new flag to allow peers auto-download recommended files from trusted neighbor nodes, which 
            gives the possibility to push data to other nodes
            
      * Identities
         - fixed message tooltip for loading ids
         - Added tooltip on key id column.
         - Disable Send Message button for own Identities.
         - Fixed initial size of the splitter in IdDialog.

      * Chat 
         - Fixed missing spaces in chat style.
         - merged in new lobbies with GXS ids. Old peers and new peers cannot see each others lobby lists. 
           Invitations and Messages of old and new peers will not be visible to each other.
         - fixed mistake in distant chat (== instead of =)
         - removed deprectated items in chat lobbies. Removed debug output in distant chat.
         - fixed a few bugs in distant chat protocol (allow re-negociation of DH parameters if decryption 
            fails, correct passing of own gxs id for server side), making the system more reactive. Also 
            fixed the issue of  avatar not showing up. Changed t he tunnel naming system to something specific 
            to distant chat. WARNING: this version cannot distant chat with previous versions.
         - fixed the ChatId::toStdString() method (patch from sehraf)

      * improvement of README file (patch by cave, modified)

      * Connectivity
         - removed systematic printout of outgoing items which killed performance (patch from electron)
         - Removed debug info fom bdnet (Patch from electron)
         - attempt to fix never ending thread. To be tested.
         - Allow TLSv1.2 while keeping compatibility with TLS1 and 1.1 (Patch from cave)
         - Added extra check against invalid sockfds, cansend / moretoread code

      * Others
         - added method in ftServer to allow retrieving data from shared/downloaded files (patch from electron, modified)
         - fixed typo preventing compilation without RS_USE_BITDHT flag

      * Packaging
         - fixed compilation on debian squeeze. Removed placeHolder properties in CreateGxsForumMsg.ui 
            and GxsGroupDialog.ui which need to be set in the cpp. Added a new DEFINE=NO_SQLCIPHER to compile 
            without sqlcipher when sqlcipher cannot be found (no sqlcipher is available on debian squeeze).

 -- Cyril Soler <csoler@users.sourceforge.net>  Tue, 22 Feb 2015 15:00:00 +0100

retroshare06 (0.6.0-0.7939~precise) precise; urgency=low

   Improvements
      * GUI
         - Fixed loading of avatars
         - Used RsGxsGroupId instead of std:string for id/name in IdEditDialog/GxsidChooser.
         - Added a send message button on header frame.
         - set default border stylesheet for the Avatar Label.
         - Added info pane for unsubscribed channels
         - Added placeholder text to RSFeedWidget
         - fixed bug in control of available identities for signature in MessageComposer
         - fixed bug in distant msg composer checking
         - added avatars for GXS ids in distant chat
         - Receiving a shared key:
            * Added notify of the group id and the refresh of the gui
            * Added system message (create of message disabled)
            * Added possibility to show a news feed item
         - RetroShareLink:
            * Fixed create unknown ssl certificate
            * Fixed process of person link
         - added columns context menu entry, to hide optional some columns
         - Fixed double feed publication
         - separated "owned by you" and "linked to your node" which are two different things; fixed bug showing 
            chat menu for own identity
         - fixed typo in column addressing
         - Fixed Scale QLabel content
         - set item icon size 22x for Identity icons.
         - Used AvatarDialog to choose an avatar for an identity.
         - added avatar to GxsId tooltip (see in forums). 
         - Removed thread data race due to multiple threads accessing the static data member image_cache, 
            causing avatars to not show up randomly.
         - removed unused code in ServicePermissionPage
         - Fixed deadlock in RSGraphWidget 
         - Set Light gray background color for the identicons for better look n feel.
         - Fixed to scale QLabel content.
         - Moved to display Avatars on ID Dialog into a QLabel
         - Added Avatar Dialog at the moment for own peerid, soon for gxs avatars change.
         - switch to standard identity icon format for defautl icons (patch from Phenom, slightly modified)
         - Enabled display of extern gxs Avatars on ID Details Dialog
         - implemented dedicated widget for service permission matrix. Permissions are not saved yet, and we 
            also need a default switch
         - Moved remove button under the add btn,for better look.
         - Removed "Send" button in CreateGxsForumMsg and used "Ok" button of the buttonbox to send a message.
      
      * GXS
         - Fixed possible crash in the handle methods of RsGxsNetService when the dynamic cast of a received item fails.
         - added number of posts at friends to saveList/loadList. Improves visibility of number of posts

      * Serialisation
         - re-enabled anti-svg bomb code before some jerk tries to exploit it. It was used for wide strings. 
            Moved it to std::string deserialisation.

      * Packaging
         - Fixed utf8 issue in Windows installer

 -- Cyril Soler <csoler@users.sourceforge.net>  Tue, 10 Feb 2015 23:00:00 +0100

retroshare06 (0.6.0-0.7891~precise) precise; urgency=low

   Improvements
      * GXS
         - group pulish TS is now accounted for in mServerGrpSyncMap, so that modification of metadata is propagated in the network; 
         - mClientSyncMessageMap is stamped when the server cannot feed any new messages. 
         - group info for no-auto-update services are still sent, but only groups already present but available with a new 
            version are sent. This fixes the propagation of GXS avatars.
         - removed sending of msg list from unsubscribed groups
         - added more debug info to gxs net service so as to see what's going on
         - force-updating timestamp of unsubscribed groups to avoid re-asking them indefinitly. This should remove the heavy GXS traffic. 
         - Fixed memory leak in request handling by adding a destructor the the request classes derived from GxsRequest and delete the result.

      * GUI
         - Fixed icon to toggle participants frame in chat dialog.
         - changed from setEnabled to setVisible, to not show up the disabled actions for Own Ids. 
         - changed dialog to none blocking mode
         - Added Person details dialog, for popup mode view.
         - Removed timeout of waiting tokens in TokenQueue (gui) and increased timeout of requests in libretroshare from 30 seconds to 2 minutes.

      * Identities
         - added avatars to identities.

 -- Cyril Soler <csoler@users.sourceforge.net>  Sat, 31 Jan 2015 14:00:00 +0100

retroshare06 (0.6.0-0.7870~precise) precise; urgency=low

   Improvements
      * Global Router
         - new global router system. Provides secure/authed (sync-ed) data sending between GXS ids.

      * GUI
         - renaming strings and changed icons for Network/People
         - added Peer def for Identities.
         - Removed version files from retroshare-gui. Added version information to Windows executable.
         - Moved header file with version information to retroshare/rsversion.h.
         - added code to generate 3072 and 4096 bit PGP keys at startup (Patch from Serhaf)
         - Fixed removing of a node in friends list.
         - Moved ID ComboBox at the top, before recipient or Subject fields, to switch faster and easy Identity.
         - Added a Filter ComboBox for Message Composer, to switch Show types. Moved Search Filter to the top of the Selection Widget.
         - Changed statusbar hashing label to ElidedLabel
         - Renamed "location" to "node" in gui (Patch from Henry)
         - Added a new base class RSTextEdit with placeholder for Qt < 5.2
         - Fixed when the FriendList columns are hidden, set header sizes to default, Changed profile settings icon.

      * Messages
         - distant messaging system now uses new GRouter. This provides sync-ed distant messaging.
         - Show size of attached files in MessageWidget with friendly unit.
         - Added a info Frame, when adding a Distant Peer to the send list.
         - added "reply to authors" in forum (needs improvement)
         - Changed default text color for own group & online status text color
         - Added to Display File size of the attached files in messages
         - Changed on the Message Composer when adding GXS Identity to the "To" field, for user friendly display look like a email address.
         - Enabled to display identity icons for Distant peers on Message Composer and on Friend Selection Widget
         - Fixed to display mail icon when Distant Message is read.

      * Chat
         - added missing line when exporting ChatID to std::string (fix by sehraf)
         - fixed unread chat count in FriendsDialog, fix display of status in distant chat (Patch from electron)
         - fixed font handling for chat config page (Patch from HM)
         - Fixed to hide Search Box Action when ChatWidget is used on FriendsDialog
         - Fixed Incoming Nickname Text color, which looks for your eyes better then green.
         - simplification of the chat interface to libretroshare using a single unified class for chat IDs. Used a common 
            chat widget for all chats including broadcast. Opens the way to having plugins send/recv chat messages (Patch from Electron).
         - Moved Search Filter feature into a frame, to hide by default for a clean Chat Window, optional enable from the menu.

      * NewsFeed
         - Moved checkbox for news feed sort order from settings to NewsFeed
         - Fixed reading memory after it was deleted. The error was the reason for the ghost feed items.
         - clean up security feed item

      * Turtle
         - added non aggressive mode option to turtle router to make distant chat happy

      * Forums/Channels/Posted
         - Added Default blue forum icons for own Forums.
         - Fixed placeholder display on GXS Group Dialog
         - Changed sign icon on create forum message, added a "Post as:" label before gxs id chooser
         - Added icons to GxsIdChooser
         - Fixed display of "Create new Identity" without an identity
         - Fixed filter of description in group tree of forums, channels and posted.
         - Display at Header Channel name (Show Mode)
         - Display Subscribers on Channels
         - Added a new StackedPage for the Show mode (GXS Group Dialog), clean up the code.
         - Set the description Text field to read only for the Show Mode

      * Identities
         - Added fixed size for the splitter in Identity
         - optimized fill, fixed utf8 issue, added new strings to translation, added load/save of ui state
         - fixed splitter resize, fixed sensitive state of menu items in context menu
         - Fixed double (or more) add of own identity to p3IdService::mOwnIds after edit in the gui.
         - Added Send Message context menu action for Identities List
         - Added new entry to GxsIdChooser to create a new identity.

      * Packaging
         - Switched to dynamic linking of openssl for Windows build. Added needed dll's to Windows installer.
         - renamed Ubuntu/Debian packaging scripts, removed binary package scripts
         - Added icon, publisher and version to Windows uninstall information.
         - improved packaging scripts (patch by Heini)

      * Others
         - Fixed inconsistent code in udprelay.cc (Patch rom G10H4ck)
         - Code simplification and suppression of a bug in handling Relay connect attempt (Patch rom G10H4ck)
         - Added missing free() in error handling code (Patch rom G10H4ck)
         - Few optimizations and code improvements. Also added one missing fclose in error handling code (Patch rom G10H4ck)

      * VOIP
         - fix memory management issue in voip (patch from electron)
         - Moved the VoIP Buttons to the top right corner on the Chat Window.

   Bug fixes
      * fixed fclose before rename in fimonitor.cc, causing some cache file lists to never be deleted.
      * fixed bug causing a security breach by storing private GXS keys into the public key cache. Added a few asserts 
        to totally remove that possibility. Ideally we should have 2 incompatible key types.
      * fixed non saving of checkAttempts for pgp signatures of groups, causing pgp signatures of unknown keys to be re-checked every minute (Patch from HM, modified)
      * improved RsServer so that join() is called on every running thread at shutdown, hence avoiding SIGSEGV. Removed some unused members of RsServer

 -- Cyril Soler <csoler@users.sourceforge.net>  Sat, 25 Jan 2015 14:00:00 +0100

retroshare06 (0.6.0-0.7769~precise) precise; urgency=low

   Improvements

      GUI
         * Set to display a placeholder text when status message is empty.
         * Added new class StyledElidedLabel and used it for nick name and channel label.
         * Disabled own location display on Friends Frame.
         * Removed the Fixed size for Messages ListWidget
         * Update stylesheets
         * Fixed compile with Qt 5
         * Added a warning MessageBox when closing Forum Post Dialog.
         * Set the list with buttons in MainWindow and friend list in FriendsDialog to 
            fixed when resizing the window.
         * Optimized polling in TokenQueue
         * Removed unecessary space around the main pages.
         * Moved own frame for Avatar,status,nick display to the top of FriendsList.
         * Moved font size definitions from ui files to default qss.
         * Clean up Peer and SecurityItem feeds
         * Set a fixed size for the Messages search filter.
         * Enabled Minimize/Maximize Button for File Transfer details dialog.
         * Clean up Buttons on ChatWidget, for Fonts use now Font Button.
         * Changed rs logo icons, for better look and feel on the Taskbar
         * Hide by default the Attachments Recommend Files list.
         * Changed the tooltips for the Hide/Show Button , "Download all" Button now 
            with default text.
         * Moved files count label before "Recommend Files" label
         * Reduced speed of scrolling of RSFeedWidget

      GXS
         * improved network statistics for GXS net service. Added number of available 
            messages for unsubscribed forums in GUI. Should be done as well for channels.
         * Added missing initialize of members in constructor of GxsGroupStatistic and 
            GxsServiceStatistic
         * remove GXS ids with faulty signature. This should not happen anyway.
         * added additional check for signature consistency after signing GXS id.
         * improved/cleaned debug outputs in in rsgxsnetservice.cc. Performed
         * optimization of transaction system: limited the size of message transactions and allowed 
            a much larger transaction timeout to suppress the transaction cancelling epidemic that caused 
            global bandwidth increase and lack of channel/forum propagation
         * Simplified usage of GxsIdDetails and removed some QTimer.
         * fixed proper deleting of pending transactions inside mutex to avoid concurrent thread to use them
         * fixed uninitialised memory read in rsgxsdataaccess.cc
         * fixed inconsistency using getKey() and getPrivateKey() supposing it returns a boolean. It should return a boolean anyway.

      Core
         * protection against multi-threaded usages in tcponudp
         * fixed weird logic in handling connection attempt for an already connected peer.

      Chat
         * Added size limit for chat types - Public, Private, Lobby, Distant
            Set the size limit for private and distant chat to unlimited.
         * fixed bug in distant chat causing multiple tunnels to break the DH session.
         * added keep-alive packets to distant chat. Improved the tunnel management logic.

      VOIP
         * Moved to display own video at bottom and Friend at top.
         * Added to display system message text when call is stopped.
         * Fixing spaces on chat window.
         * Clean up chatwidget buttons, moved text color to the font menu button
         * Added a border radius to the Video Widget.
         * Moved to Display the Video Widget on the right side

      FT
         * two improvements of turtle router logic: increase of TR cache storage time to avoid too many void 
            tunnels due to bouncing TR beyond storage period of 120 secs; prevent openning upload tunnels for 
            files currently being downloaded before any chunk was obtained. Suggested by Jo.

      Messaging
         * Adding start of new Mail Service.
         * added setFlags method in Id combo box. Removed possibility to send anonymous distant messages 
            (too risky). Improved the logic in message composer GUI. Fixed bug when key not available in 
            message encryption/signing routine.

      Plugin system
         * Added service pointer of forums and channels to RsPlugInInterfaces.

      Installer
         * Added missing dll to Windows installer.

   Bug fixes

      * fixed cross-deadlock between pqissl and pqithreadstreamer by removing locks over atomic operations.
      * fixed tcponudp bug causing SEGV when quitting and crash on UDP connexion reset. 
      * Fixed utf8 issue when using strings with openssl
      * fixed serialisation bug preventing the correct save of grouter matrix in some cases

 -- Cyril Soler <csoler@users.sourceforge.net>  Fri, 12 Dec 2014 23:00:00 +0100

retroshare06 (0.6.0-0.7702~precise) precise; urgency=low

   Improvements
      GUI
         * HTML Text optimization (patch from Phenom)
         * Enabled by default to display Friends Avatar on Friendslist
         * Changed for RS 0.6 the status icons
         * beautify the status string which displays after nicknames
         * improved GUI for distant chat, making it possible to choose which identity we use to chat someone
         * improved design of existing feed items
         * Added new stylesheet qdarkstyle
         * created new RSFeedWidget to be used in news feed
         * Added to change dynamicly the share key info description.
         * Added default stylesheet for the info label

      Distant chat
         * improved logic in distant chat, and fixed several bugs causing unstable conversations

      GXS
         * implemented more tests and fixed a few bugs in GxsSecurity
         * added feed items and logic for GXS channels/forums/posted

      Core
         * Mutex debugging: added a new macro RS_STACK_MUTEX(myMutex) to trigger a scope guard while recording file location 
           and line number. Moved the timings from RsMutex to RsStackMutex. Changed the mutexes in rsgenexchange and rsgxsntservice to use the new macro.
         * separated chat items from message items, separated chat into tree components: chat, distant chat and distributed chat 
            (i.e. lobbies). moved all chat components into chat/. Removed deprecated chat items. Moved all distant chat code into a 
            separate file. 
         * fixed compilation of network simulator
         * updated windows build bats

   Bug fixes
      * removed uninitialised memory read in rsgxsnetservice.cc
      * fixed re-login after wrong passwd. Patch from Electron
      * fixed adding groups to message recipient (Patch from Phenom, modified)
      * fixed memory leak in rsgenexchange.cc

 -- Cyril Soler <csoler@users.sourceforge.net>  Sun, 23 Nov 2014 19:00:00 +0100

retroshare06 (0.6.0-0.7661~precise) precise; urgency=low

   Improvements:
      GUI 
         * Added systray menu in status bar. Helps people without a systray (Patch form Phenom)
         * Saving tool button position (patch from Phenom)
         * Changed the chat bubbles when typing/chat on the private chat, which displays on the Taskbar & window icon
         * Changed the MainWindow icon to a higher resolution for better look & feel, when the logo is displayed on the 
             taskbar, same for the im status icons.
         * Added very basic display of outqueue statistics in BwCtrlWindow. Removed unnecessary list::size() calls in pqistreamer
         * Added to change header image and text on Share Key Dialog.
         * Improved display of popularity in forums/posted/channels
         * Fixed display of TOR connexions in the friend list
         * Fixed the frame margins
         * Fixed navigate to channel post when clicking a channel post link.
         * Fixed navigate to forum message when clicking a forum message link.
         * Fixed copy of forum message link to clipboard
         * Set standard style of public/lobby chat to compact colored.
         * Fixed navigate to forum and channel group when clicking a forum/channel link.
         * Navigate to post/message is still a todo.
         * Fixed display of unknown PGP keys in IDDialog. Removed debug output
         * Using GxsIdChooser in message composition dialog
         * Fixed bad connect in notifyQt for chat window
         * Fixed start of chat with right or double click on a friend item (not location) in friend list.
         * Fixed display of unknown hash in turtle router dialog
         * Enable "Next unread" button in forum without an active post.
         * Fixed up DHT Stats window so you can maximise any section with splitters.

      DHT:
         * Fixed saving of bdboot.txt on windows (patch from electron)
         * Add peer version to Ping Message (improves finding RS peers)
         * Add local flag to search query - to only find bitdht peers.

      Links:
         * Fixed check if address has changed - was preventing resetting of local port.
         * Tweaked TOU so it can accept Generic Sized Ip Addresses, even though it will only accept IPv4 addresses

      GXS:
         * Added tempering system for GXS, so as to not send more in the outqueues than what the current bandwidth can handle
      
      GRouter:
         * Limited storage of DEAD items in grouter cache to 1 hour to favor re-explore dead routes and limit cache size
         * Added feedback from rsgenexchange into Global router to add routing information
         * Weighted maximum length of a msg in grouter inversely to how much it has spread
         * Improved anti-flooding stategy in g-router
         * Fixed bug in global router making the routing matrix too sparse

      Diverse
         * Fixed compilation after removing operators!= (patch from phenom)
         * Removed unused comparison operators in some GxsItems
         * Removed unnecessary string to string conversion in pqipersongrp
         * Removed ifdef for the different sleep methods. Now only usleep is used, on all systems (Patch from Phenom)

      Utils:
         * added more time measurements in RsMutex, so as to measure locking time and waiting time. Only enabled with RS_MUTEX_DEBUG

   Bug fixes:
      * Added security check in pqissl::senddata() to avoid SIGSEGV when quitting
      * Changed sleep to usleep in RsStackFileLock::RsStackFileLock(). Caused a very long lock. 
      * Fixed SIGSEGV when quitting due to deletion of UPnP handler during callback
      * Added missing record of Dn traffic in turtle router

   Optimisations:
      * Changed post fixed operator++ into prefixed. More efficient on some systems. Patch from Phenom.
      * Replaced tests on std::list::size() by std::list::empty() (Patch from Phenom, modified)

 -- Cyril Soler <csoler@users.sourceforge.net>  Sun, 02 Nov 2014 18:00:00 +0100

retroshare06 (0.6.0-0.7621~precise) precise; urgency=low

   * Improvements
      - GUI: Factored all classes used to draw graphs into a consistent common class. Reworked the look 
         of existing graphs.
      - UDP: Tweaked TOU so it can accept Generic Sized Ip Addresses,even though it will only accept IPv4 
         addresses.
      - extended group share keys to Posted
      - Improvements of People dialog. Patch from Phenom (slightly modified). Not enabled in this built.
      - GXS: Added read status to posted messages
      - GXS: Set new messages to unread
      - GXS: Fixed missuse of message flag UNPROCESSED as indicator for a NEW message
      - GXS: Added the delete of the TokenQueue in some destructors to fix crashes.
      - DHT: Fixed up DHT Stats window so you can maximise any section with splitters.
      - DHT: Add peer version to Ping Message. (improves finding RS peers)
      - DHT: Add local flag to search query - to only find bitdht peers.
      - Fixed check if address has changed - was preventing resetting of local port

 -- Cyril Soler <csoler@users.sourceforge.net>  Sat, 18 Oct 2014 21:25:00 +0100

retroshare06 (0.6.0-0.7596~precise) precise; urgency=low

      - Switched MessagesDialog from QTreeView to QTreeWidget and use GxsIdRSTreeWidgetItem to 
         show the gxs id for a distant message.
      - increased sync period in RsGxsNetService so as to reduce network load. Increased transaction 
         timeout to 30 seconds 
         to avoid wasting too many transactions
      - Fixed initial fill of the contact list in message composer when only trusted people is checked.
      - Replaced external library libcrypt32-cygwin.a by libcrypt32.a from MinGW for Windows compile.
      - added a structure in GxsNetService to record who sends info about groups, so as to dynamically 
         compute group popularity. The GUI needs to be improved to update
         regularly so as to reflect current values for popularity. For now only
         subscribing/unsubscribing and new messages trigger the update
      - fixed display of channels with publish key

 -- Cyril Soler <csoler@users.sourceforge.net>  Sat, 11 Oct 2014 15:28:00 +0100

retroshare06 (0.6.0-0.7584~precise) precise; urgency=low

   * Improvements
      - implemented publish key sharing between peers for channels.
      - Added automatic upgrade (cipher_migrate) of the sqlite database.
      - Setup common folders for libraries, includes and binaries of all external libraries for Windows compile.
      - Enabled Antialiasing for QGraphicsView and channel images
      - enabled by default to inform me via Message a Friend request from a known peer
      - Fixed load/save config of FeedReader plugin
      - Big progress for People dialog. Phenom work. (Not enabled in unstable version)
      - restaured tunnel names in the gui
      - added Qt socket test to update TOR led. This is a very basic test that does not prove the presence of TOR on the socket.
      - Forums load all messages (not only latest), Fixed flat view
      - RsGxsIntegrityCheck 
         * Fixed message hash checking
         * Added check for existing but not loadable messages
         * Notify the gui when messages are deleted
      - Removed Edit/Delete ID Buttons, for better look and feel and get more space for the search filter, use Edit/Delete from context menu.
      - Removed the directory name of the message file name in the database column "nxsFile".
      - removed "use old key format" from certificate export
      - improved GXS Id display when unsigned, in Identities. 
      - fixed fonts for IDs in Identities
      - Fixed count of new and unread messages for Channels and Posted.
      - improved naming and layout in Identities
      - Removed Add Friend Button from Friends Dialog
      - Removed Distant Chat page from Settings
      - use ProfileManager to export own PGP key pair in keyring and profile.

 -- Cyril Soler <csoler@users.sourceforge.net>  Sun, 05 Oct 2014 20:00:00 +0100

retroshare06 (0.6.0-0.7555~precise) precise; urgency=low

   * Improvements
      - this version is the first unstable release of 0.6. It is incompatible with v0.5.5, but can be 
         used simultaneously on the same computer. Please see release notes for v0.6 
         on https://retroshareteam.wordpress.com/
   	 
 -- Cyril Soler <csoler@users.sourceforge.net>  Sun, 21 Sep 2014 20:00:00 +0100

retroshare (0.5.5-0.1~precise) precise; urgency=low

   * Improvements
      - General
         * Updated languages from Transifex
         * Added language Catalan (ca_ES)

      - Transfers
         * new cache system for RemoteDirModel, which significantly speeds up the display of shared files
         * added generic function to return the correct string for scanf for unsigned ints depending on the 
            size of the actual variable that is scanned. Should fix the rehash bug and bugs corrupting 
            timestamps on some 32bits systems
         * Added few more file type icons for "cpp", "h" nd "c", "patch" and "diff" extensions
         * Moved Uploads to Downloads Tab.
         * Added to change the text for the Play Button, when file is not a media file.
         * Added a custom context menu for pasting RS-links to the base class MimeTextEdit and removed 
           the custom context menu from derived classes. Updated english translation.
         * patch "AddSearchFilesourceSorted_6951.diff" from Phenom. Adds correct sorting for search results.
         * extended max chunk TTL to 1 hour. A short TTL is not anymore needed since chuns are shared between sources

      - Chat
         * patch "chatdialog_allow_buttons_from_different_plugins_3" from electron. ChatDialog allows 
           now Buttons from different Plugins.
         * patch "Fix_ChatLobbyAutoSubscribe_6951.diff" from Phenom. Fixes request for existing lobbies 
            when no lobby ihas been found yet. Code beautification
         * added lobby ID as tooltip to lobby list

      - Forums
         * added ElidedLabel to be used in places where labels might be too long and therefore 
           trigger an unwanted window resize. This is currently used as forum thread titles (Patch from Phenom)

      - Channels
         * patch "Fix_ChannelNotificationFeedLink" from Phenom. Allows to finish loading a channel 
           before jumping to the linked post
         * Added a default background color for the Channel Message Logo for a better look and feel, 
            removed stretching of the logo, set a minimum size, background is now filled black.

      - Notification
         * reworked the notification system, which is now a standalone service. Now plugins can receive notifications.
         * Corrected the layout of the Connect Progress Dialog
         * Changed the logo size for some news feed items to use same size for better look.
         * Added to display blue/black forum message icons for the forum feeds, when forum is anon or signed.
         * Added new feed item types and logic to show connection attempts from forged certificates 
            (e.g. bad signature, bad certificate)
         * Limit number of feed items to 500 to avoid flooding
         * Changed the default stylesheet color for the Security Feed
         * improved display/fixed bugs in security item

      - plugins
         * Added service pointer for forums to the plugin interface
         * FeedReader: Used the forums pointer from the plugin interface instead of the global pointer
         * added missing services in RsPluginInterface class

      - GXS
         * Enabled the Filter Line edit for filtering friends, by nick/ID for Create Circles Dialog's 
           Known Identities Widget.
         * Set some minimum header sizes for some items
         * Enabled sorting for the QTreeWidget's
         * fixed temporary to load the Wiki Groups Tree at startup, auto update seems not to work.

      - core
         * moved PGP id and SSLid types into rsid.h, and renamed them with a more appropriate name
         * fixed cipher list for openssl. ECDHE is not configured, so it cannot be used
         * added serialisation methods for SSLId and time_t
         * added an option in the pro file for dsdv, as it is compiled when not used
         * removed status member from FileDetails. Not used => misleading
         * removed asserts in reader_armoured.c, reader_encrypted_se.c, reader_encrypted_seip.c, readerwriter.c
         * Allow loading packets of large size from config files (fixed storing of big messages), 
           and continue on config files skipping items that cannot be deserialised (Modified patch from Phenom)
         * put a hard limit to packet size in pqistore to avoid calling realloc with fancy numbers 
           when the stream has been corrupted

   * Bug fixes
      - fixed bug due to ot sending notifications to the file lists
      - added missign cleanup call in RsAES.cc, causing a small memory leak
      - Changed order of the shutdown to fix a crash of the WebUI plugin. First stop the 
        plugins then the other services.
      - fixed ghost lobby issue (thx to thunder for spotting it out)
      - patch from HM to avoid allocating absurdly long uids
      - added check to only import version 4 keys in the keyring
      - fixed error handling in certificates that could crash RS when a bad cert is pasted
      - fixed proper handling in failed malloc in openpgp-sdk, causing crash with deliberate bad cert.
      - fixed small error in pgphandler, potentially adding empty certs in database
      - limited the number of packets to be parsed in a row, to prevent compressed 
        data to contain an enormous number of packets. Fixes one possible attack pointed out by HM
      - removed potential uninitialized memory read in TlvKey item.
      - fixed mismatched free/delete in p3channels.cc
      - fixed bug introduced in 6965 that prevented people joining private lobbies to see the messages and talk
      - fixed potential attack by supplying non hexadecimal strings as certificate common name
      - Fixed spaces in copy/paste of rich text (Patch from Phenom)

 -- Cyril Soler <csoler@users.sourceforge.net>  Thu, 09 Jan 2014 20:00:00 +0100

retroshare (0.5.5-0.6933~precise) precise; urgency=low

   * Improvements

      - fixed up some debug text (patch from H.Morgan)
      - reduced string for lol bomb filtering, to filter out <\?xml* instead of <\?xml\ *
      - Added freeze option in NetworkView (Modified patch from K. Eisentraut)
      - Updated languages from Transifex
      - fixed up compatibility with Qt5

     PGP
      - added restriction to only accept self-signed certificates for friend keys
      - added test program for identity import
      - removed asserts from validate.c, and signature.c in openpgp-sdk
        it will not be shared until re-hashed. Should prevent chunks error in files that get hashed while being copied.
      - do not accept keys without a uid. Previously this was crashing RS
      - added check over recursive compression depth. Fixes CVE-2013-4402

     Channels:
      - Added back the Subscribe Button to Channels
      - Use destination directory when manually downloading a file from a channel
      - Show destination directory in channel details
      - Fixed utf8 issue when choosing the destination directory

     GUI
      - show fingerprint in ConfCertDialog, and splitted the string with spaces. Removed 
        the use of the ambiguous peer id for both pgp and locations ids

     Global router (Not active yet. Is a replacement to tunnels for messaging. Wil allow offline anonymous distant messages)
      - squeleton code for the whole system
      - computation/update of routing probabilities

     File Transfer (Speed changes according to experiments from jolavilette. Brings the max LAN speed from 1.3MB/s to approx 13MB/s)
      - set desiredRate of peers to 10MB/s instead of 1MB/s
      - maximum number of active chunks per peer is now 20 (that was a serious limiting factor)
      - ticks that bring no data are not accounted for in the speed estimate anymore. The data is averaged over all ticks 
        since the previous non zero data chunk -> this brings much more stability to sources and removes lots of oscillation.
      - added post-hash check for file modification. If the file has been modified while being hashed, 
      - removed false warning that come up when openning a non existing file in ftFileCreator.

     Shared Files
      - changed re-hashign strategy. Now uses in priority the system time of the index file as a reference for new files. This automatically
        accounts for changes in system time and fixes the re-hashing bug for daylight changing time. In case the reference time cannot be
        establishd, the comparison reverts to the old method. This change is backward compatible and should not cause a re-hash.

   * Bug fixing
      - fixed import of retroshare identities that have multiple signatures from the same key ID. Fixed bug reported by claude37
      - split lastRecvTimeStamp into two different time stamps: one for last
        time the file is wrote (or data is received) and one for last activity
        that is used (and sometimes reset) by ftcontroller when queuing files
      - fixed display of correct IP for connected friends. Only the external IP was shown previously. Port is not 
        shown because it is random and could be misleading. 
      - filter out disallowed direct sources from file request source list. Should systematically prevent unwanted direct transfers

 -- Cyril Soler <csoler@users.sourceforge.net>  Sat, 08 Dec 2013 12:00:00 +0100

retroshare (0.5.5-0.6864~precise) precise; urgency=low

   * Improvements
      - code fixed up for Qt5,added display of Qt version in AboutDialog
      - fixed up compilation for MinGW-w64
      - Added new options to retroshare-gui.pro for Qt 5
      - Added new file QtVersion.h with macros to compile with Qt 4 and Qt 5
      - fixed GUI for encrypted messages. Now showing correct To/From, added icon for decrypted msg, correct To when reply
      - allow change destination directory for queued files (modified patch from Phenom)
      - remove three costly loops in ftController
      - added help strings in some config pages (relays, notify, plugins)
      - added warning label in MakeFriendWizard to warn against too many friends
      - changed the voip icons, disable the voip buttons when friend is offline.
      - added scope timer to measure times conveniently

   * Bugs
      - removed potential deadlock in notifyQt
      - fixed bug that would cause virtual peers list for outgoing files to never get cleanred up. Also improved 
        cost of updating the status of virtual peers. Many thanks to Jolavillette for finding this out!


 -- Cyril Soler <csoler@users.sourceforge.net>  Sat, 19 Oct 2013 15:00:00 +0100

retroshare (0.5.5-0.6804~precise) precise; urgency=low

  * Improvements
     Optimisations/compilation:
      - re-wrote cleanupDirectory() function. As this a cause of the slow startup.  Startup time is massively improved!
      - Fixed compile of the libraries with MinGW 4.8 on Windows.
      - Removed the external library pthreads 2.8.0 on Windows build and used the library of MinGW (version 2.8.0 too). 
        This fixes header mixup of bo th versions.
      - Switched to the release version of pthread so the name of the dll changes from pthreadGC2d.dll to pthreadGC2.dll. 
        The new dll can be found in the bin directory of MinGW.
      - Optimized p3HistoryMgr::cleanOldMessages

     File Transfer:
      - restore file state when restart (Modified patch from Phenom)
      - Enabled multi-tunneling by consistently perturbating partial tunnel id in TRs.
        This causes tunnels with a different route to have different ids and therefore
        coexist as different sources for a given transfer.
        This should cause file transfers to have more tunnels and therefore a better balance
        of bandwidth over intermediate peers. This needs to be evaluated on a large scale network.
      - included random bias in tunnel ID computation to make them impossible to correlate to the end points

     Distant chat/lobbies/chat:
      - added the possibility to distant chat with unverified identities, while warning the user about it. Should help distant chatting.
      - removed warning that happens when lobby has no activity

     Key creation
      - added entropy collection system based on mouse movement to location/identity creation, to make keys less predictable

     Connectivity:
      - Made connection progress dialog only show up when really making friend

     Security:
      - Enabled PFS for SSH connections, based on a 4096 bits safe prime. This is retro-compatible, meaning that 
        old peers will connect to the new one using PFS if they act as a client (meaning they request the connection)
      - added limit to posts on chat lobbies to 6000 characters, removing the risk of enormous posts crafted to kill the msg history
      - added filter to take care of svg bombs that can be hidden in the strings in lobbies,forums,channels and chat
      - added control for suspicious message activity in chat lobbies. Lobby items are not bounced if coming 
        from a peer that sends more messages per seconds than a given limit. The limit is adaptive and depends on lobby count
      - added limit in number of chat lobby ids sent by a peer
      - added filter to remove xml bombs in all std::wstrings. 

     Various gui stuff:
      - added a "Load Images" system to messages.
      - added new delegate for BW statistics window. Changed column names to more appropriate values (Patch from Phenom)
      - Added proper sorting of DL files according to sources (Patch from Phenom)
      - changed the connect wizard so that we can add someone key to keyring without making friend. 
      - fixed image resizing for channel thumbnails. Apparently there is a bug in Qt preventing 
        Qt::KeepAspectRatioByExpanding to work correctly
      - Changed the additional buttons of ChatLobbyDialog and AudioPopupChatDialog to QToolButton.
      - added some sound files
      - changed the voip icons and the tooltips
      - added fingerprint to cryptopage
      - added tree items for chat lobbies. 
      - moved help browser from MainPage to new base class FloatingHelpBrowser
      - added warning info label to MakeFriendWizard
      - Added info widget for encrypted messages in MessageWidget
      - removed copy/paste of links of type PERSON in friendlist. This caused confusion and did not provide 
        anything useful since the creation of the full certificate links
      - changed default header text and context menu icons
      - changed the default style layout of profile creation dialog
      - highlight peers in network graph according to friendship distance from selected node

     Chat lobbies
      - added history parameters for chat lobbies
      - added max storage time for items in chat history. Avoids filling up the history with chat from volatile peers.
      - worked out the layout in config->ChatPage in a more compact design and added help

  * Bug fixes
      - fixed missing update of transferred bytes count, that caused tunnels to not show a correct speed estimate on server side
      - fixed bug in turtle router, causing potential memory access error in rare occasions (sendItem does not 
        delete items fast enough, normally).
      - added missing setPeerState that caused tunnels to get stuck to default minimum rate unless 
        the list of connected peers change
      - fixed bug showing play for unfinished files and preview for finished ones

 -- Cyril Soler <csoler@users.sourceforge.net>  Sat, 12 Oct 2013 15:00:00 +0100

retroshare (0.5.5-0.6732~precise) precise; urgency=low

  * Notes
  		This is the final release of the 0.5 brand. 

  		- distant chat (encrypted with AES-PSK using tunnels, autenticated with PGP)
      - distant messages (encrypted, through tunnels)
         => See http://retroshareteam.wordpress.com/2013/08/08/distant-chat-and-messaging-using-generic-tunnels/
      - connection progress/status dialog
      - keyring cleaning dialog
      - improved GUI (better layout, higher readability, protection agains xml bombs)
      - many bug fixes in core

 -- Cyril Soler <csoler@users.sourceforge.net>  Tue, 08 Aug 2013 18:00:00 +0100

retroshare (0.5.4-0.6685~precise) precise; urgency=low

  * Improvements
      - Added connection progress dialog, to show connection state, and give some feedback/advice to the user
      - added storage for denied connections in linkMgr
  		- new splash screen / about image
  		- improved GUI layout. Many patches, mainly from Phenom, electron
  		- GUI improvement for distant messages, showing correct names, handling links, correct toasters, etc
      - improved security feed so that one can send distant messages to peers that attempt to connect
      - improved command line parameter handling (used argstream class)
      - Disabled setting "Start RetroShare when my system starts" on Windows when running the debug version.
      - modified patch from AC to remove messages with security issues (e.g. Billion Laughs bomb). The message is 
        replaced by a warning, and is not forwarded
      - Updated english translation
      - Enabled distant messages. These need to be switched on the config->Messages. GUI improvements needs to be done, 
        such as properly setting peers names everywhere, but the service works. Have fun using it!
      - updated values for min/normal partial packet size to 1MB in openpgp-sdk, so that we do not create partial packets 
        for everyday use. We will have to properly extend openpgp-sdk to support parsing of partial packets if we want to 
        PGP-encrypt chunks larger than 1MB
      - patched RsCollection code to disallow crafted xml bombs
      - plugged send message from security item to send distant messages 
      - added info about libssh-0.6.0rc1 in README.txt
      - added argstream.h (with authorized modified licence) to handle parameter lines
      - added Use As Direct Source in service permission dialog
      - fixed OpenBSD compilation (Patch from Stefan Sperling)
      - Removed rsiface and moved configuration options to RsServerConfig
      - Fixed cipher list to "HIGH:!DSS:!aNULL:!3DES", which should disable the weak ones, no idea how to force it to 
        PFS (which it should use)
      - fixed void * pointer maths.


  * Bug fixes
  		- Added missing location from cert when addign new friend
      - Added missing IndicateConfigChanged to p3PeerMgrIMPL::setDynDNS
      - Fixed crash when closing the main window without the setting "Minimize to Tray Icon"
      - Renamed the setting "Do not Minimize to Tray Icon" to "Minimize to Tray
        Icon" and fixed wrong usage Please check your setting!
      - removed dropping an entire config file when a single item cannot be serialized.
      - removed time shift warning in lobbies. Changed into warning in help panel
      - fixed bug allowing malicious peer to display lobby messages in broadcast window
      - patch to avoid corrupting file cache on 64bits archs that store time_t as 32bits (from Stefan Sperling)
      - allow big messages to bounce correctly in lobbies, after fixing a splitting error.
      - fixed lobby aut-subscribe by looking at lobbies every 121 seconds
      - fixed looping in pqistore when a crazily long packet is found. That is
        the result of an unknown bug, but at least we should handle it correctly.

 -- Cyril Soler <csoler@users.sourceforge.net>  Tue, 08 Aug 2013 18:00:00 +0100

retroshare (0.5.4-0.6546~precise) precise; urgency=low

  * Improvements
      - doubled data chunk for signature in chat links. Apparently some keys need more than 287 bytes
      - added security checks against disk full in PGP keyring manager
      - TokenQueue: fixed stop of TokenQueue polling when events are locked
      - RsProtectedTimer: switched to faster poll when events are locked
      - distant chat: added ACK system to make sure the secured tunnels for distant chat are actually working, before one starts using it.
      - moved all files related to file transfer in gui/FileTransfer/
      - renamed known people into keyring
      - make friendlist fully resizable (Patch from phenom)
      - added DynDNS to RS certificate link if available
      - removed MT19937 random generator which is not used anymore. Changed N from 624 to 1024 to reduce cost
      - improved completion for chat (Patch from Phenom)
  		- added help panels in MainWindow, to help beginners startup with the basic concepts.
      - changed welcome message in broadcast chat
      - improved GUI layouts in FriendList, NewsFeed, Forums, Channels, removed doubling unused buttons
  	   - added last time of transfer (Patch from Phenom)
      - added column with IP for connected peers (modified patch from Phenom)
      - Removed some more hardcoded colors
      - added completer to MimeTextEdit and ChatWidget (Patch from Phenom)
      - fixed deadlock (reported by Like)
      - Added quick fix to show the plain name and title in the chat lobby
      - Use the best network interface to route an ip instead of the first interface in getLocalInterfaces on Windows
      - Fixed showing utf8 characters in chat lobby name
      - Updated build instruction in file readme.txt (Patch from Henry)
      - Patch (modified) from Phenom to allow auto-subscribe to chat lobbies
      - added display of SSL encryption parameters in PeerDetails dialog
      - fixed packaging with GXS (sqlite linkage, define for encrypted database
      - patch from Henry morgan to fix soem typos (e.g misspelled connexion into connection)
      - Made pqiStore accept packets even after deserialization error, so that it is retrocompatible (Patch from Phenom)
      - Set path to sqlcipher instead of sqlite for Windows compile.
      - new db for release, TESTNET5, old TESTNET4 db's are not keyed
      - Updated english translation
      - added Specific protected timer class RsProtectedTimer to avoid passwd deadlock.
      - Added filter of items to RSTreeWidget.
      - removed email field from GenCertDialog, since it is not useful inside RS
    GXS:
      - GxsChannels:
         * cleaned source code
         * added auto refresh
         * added todo button
         * removed some debug output
      - Posted Links:
         * cleaned source code
         * added auto refresh
         * Updated english translation
      - GxsForums:
         * added automatic refresh after subscribe/unsubscribe
         * removed some debug output
         * moved GxsForumsDialog.* to gui/gxsforums
         * optimized steps of the progressbar when loading
         * added UIStateHelper
         * removed debug output
         * added Todo button
      - Identity:
         * Redesigned dialog
         * Fixed high CPU usage when showing reputation list
         * Added todo button
      - UIStateHelper:
         * Added new base class for easier handling of ui elements with token request (show "Loading", set enable state, ...)
      - Circles:
         * cleaned source code
         * added auto refresh
         * added todo button
         * fixed utf8 issues
         * added new strings to translation
       - added three new classes for automatic refresh of ui
         * RsGxsUpdateBroadcastBase
         * RsGxsUpdateBroadcastWidget
         * RsGxsUpdateBroadcastPage
       - prevent call to :singleShot on RsProtectedTimer
       - extend RsGxsUpdateBroadcast
       - added automatic refresh to Identity and Forums (except subscribe/unsubscribe)
       - Added new method cancelActiveRequestTokens to TokenQueue
       - GxsIdChooser
         * Sort items
         * Added timer to load not cached RsGxsId's

  * Bugs
      - fixed deadlock in notifyQt
      - fixed memory leak in cert signature verification at connect (Patch from Phenom). Also removed some unused variables reported by gcc
      - add date to chat msg if it is mroe than 1 day old
      - fixed bug in distant chat accepting tunnels for collecting invites with same hash
      - fixed memory leaks in p3distrib, signature key verification, RsDataService::retrieveNxsGrps, 
        RsGxsNetService, p3GxsCircles, p3Posted, RsDiscReply handling, getGroupData of all gxs services

 -- Cyril Soler <csoler@users.sourceforge.net>  Tue, 02 Jun 2013 22:00:00 +0100

retroshare (0.5.4-0.6455~precise) precise; urgency=low

  * Improvements
  	  - GUI
        * added/enabled GUI for distant chat (Invitation handler in config->chat, handling of Distant chat links)
        * Localized Greek and Dutch (patch from Henry). Updated English.
        * Languages updates from transifex
        * Color transfer for copy/paste (patch from AC)
        * various improvements to FriendSelectionWidget
        * typos (patches from Henry)
        * Added default stylesheet for the QTextEdit in ProfileManager
        * Fixed sort of friends in shared files.
        * fixed update of flag for peer signature over own key

     - FT
        * added a new per-friend flag to allow to seek for direct transfers. Disabled for existing friends 
         (should be added manually), enabled by default for new friends

     - libretroshare
        * Merged branch v0.5-GenericTunneling into trunk (Rev. 6284 to 6410).
           - Tunnel system is now generic. Any service can asks for tunnels and send generic data through them
           - made ftServer a client of the service. Now turtle file items are handled in ftServer
           - added new client: p3MsgService to send/recv pgp-encrypted distant messages
           - added new client: p3ChatService to perform private (AES-encrypted) distant chat through tunnels.
           - added distant chat. Works on invitations and tunnels. Has tunnel closing notification.
           - Added system to collect and create chat invites from pgp keys
           - /!\ Needs a route of peers with version > 6441 to work.
        * drop generic items with inconsistent peer id vs. tunnel directions (due to tunnel re-routing)
        * fixed several compiler warnings
        * fixed bug in anti-search-by-depth mechanism
        * Fixed crash with Windows compile. Renamed method "RsFiles::CopyFile" to "RsFiles::copyFile" (lower case) 
          to avoid renaming of "CopyFile" to "CopyFileW" with the newly included "windows.h".

     - GXS
        * Merged GXS-phase2 branch into trunk
        * Enabled db encryption and changed gxs folder 
          needs sql cipher to compile if gxs compile flags are enabled
  * Bugs
     - Fixed deadlock in FriendSelectionWidget 
     - fixed assert for non RSA keys

 -- Cyril Soler <csoler@users.sourceforge.net>  Sat, 22 Jun 2013 15:00:00 +0100

retroshare (0.5.4-0.6399~precise) precise; urgency=low

  * Improvements
    - Added a drop-down item to allow removing unused keys, in the Network dialog, key removal method in OpenPGP-SDK,
      and PGPHandler. 
    - added backup system to public keyring, impossibility to remove public parts of owned secret keys, etc.
    - added columns for last used statistics on pgp keys in network dialog.

  * Bugs
  	 - fixed display of names in file lists
    - fixed destination directory when downloading channel items in auto DL mode
    - improved time-stamp management for pgp keys
    - fixed translatable string with .arg (Req. From H. Morgan)

 -- Cyril Soler <csoler@users.sourceforge.net>  Sun, 02 Jun 2013 23:00:00 +0100

retroshare (0.5.4-0.6379~precise) precise; urgency=low

  * Improvements
    - GUI
       * added choice for default auto-download directory per channel.
       * Removed unused member mChanReadStatus from p3Channels
       * Ensured that inserConnect() is only called when the widget is visible. This reduces lags due to discovery info.
       * patch from phenom to all resizing lobby participant lists
       * Added patch from Henry Morgan, Fixed some typos.
       * Added a info Label for the Friend Request Page
       * Fixed online time in profile widget, Fixed width of settings dialog.
       * patch (from Henry Morgan) to make the tooltips translate-able in the group flags widget
       * Fixed the perm bug in ConnectFreindWizard (Patch from Henry Morgan)
       * patch from Henry Morgan to use ConfCertDialog rather than connectFriendWizard from Security item
       * made passwd box modal
    - pgp
       * added ability to keep track of when keys have been last used for signature check, signing and encryption, 
         so that we can later detect which keys are unused and get rid of them
    - Chat Lobbies
       * Enabled history for chat lobbies (not saved to disc)
    - FeedReader
       * Added new icon for news feed from Agurer
       * added new setting to save the config in the background for slow systems
       * fixed memory leak in p3FeedReader::saveList
    - retroshare-nogui
       * Updated version of RPC protocol with fancy new features like streaming, add/remove friends, file listings.
         (Merging r6107 through r6332 into 'libretroshare')
    - GXS
       * lots of ongoing developments.
  * Bugs
    - GUI
       * Fixed sending of status typing in chat. Modifier keys does not send typing anymore.
       * patch from Henry Morgan to avoid removing peer permission flags when removing locations
       * fixed remembering flags for own id, tentatively fixed service perm bug
    - File transfer
       * changed priority for forwarded turtle traffic. The priority was so low that it explains 
         why tunnels of length > 2 are so slow
    - fixed bug in p3peer.cc not calling the correct method
    - added missing mutex, and warnings if permission flags methods are not called with correct ids
    - fixed bug that would reset service permission flags when discovery is enabled and discovery info is received

 -- Cyril Soler <csoler@users.sourceforge.net>  Sat, 25 May 2013 14:00:00 +0100

retroshare (0.5.4-0.6270~precise) precise; urgency=low

  * Improvements
    - translations updated from transiflex
    - Major improvements to GXS services (new service: channels, posted) and GUI (Not yet released)
    - further reduced TR forward probability so as to avoid a crazy increase of TR out when we have a large number of friends
    - renamed Transfers tab "File Sharing", as it is more appropriate
    - removed the constraint of sharing own files only in channels. Replaced it by a warning, to allow peers to post from other locations etc.
    - switched to libssh-0.5.4 (updated README.txt with package deps)
    - fixed packaging/compilation for ubuntu raring
    - significantly lowered the cost of the network graph by computing pairwise repulsive forces 8 times less often
    - Patch from AC to enable completion over chat lobby participants
    - patch from AC to better handle colors in lobby list
    - fixed up protobuf files generation
    - improved chat lobby layout (removed columns => tool tip)
    - added a warning in chat lobbies when there's a big time shift between peers.
    - renamed Security page in settings => Profile
    - added dest dit to FT details window
    - added warning when opnning external url
    - VOIP
      * Removed special settings for win32 from VOIP.pro
      * patch from Henry Morgan to unify compilation settings for VOIP

  * Bugs
    - removed dead-end for peers not answering downloads, that would get file cache transfers to get stuck indefinitly 
      when peers are too much stressed for a short period. The offline state is entirely given by setPeerState()
    - fixed a few fixed other uninitialized memory read (In p3NetMgr, ftChunkMap)
    - do not show msg icon for current lobby (Improved upon patch from AC)
    - removed auto-clear of search field when searching (Patch from AC)
    - fixed auto DL for own channels. Apparently the channel status is missing for this special case
    - allow to import new identity before even creating one
    - fixed up profile manager to only allow to export (Importing during a session caused a bug)
    - dropping chat lobby msg for more than 10 mins in the future
    - re-enabled context menus in chat lobby list

 -- Cyril Soler <csoler@users.sourceforge.net>  Wed, 14 Mar 2013 21:30:00 +0100

retroshare (0.5.4-0.6178~precise) precise; urgency=low
  * Improvements
    - Added dynamic menu for choosing the destination directory for files, and change the name of the des. file
    - Merged branch v0.5-ImprovedGUI. Brings all sorts of changes, the most of which are:
      * News feed to be a new tab at the top level.
      * improved transfers panel. Some tabs have been moved to Config.
      * new Chat lobby panel with improved layout. Removed tabs.
      * merged shared files and search into Transfers
    - Auto-check of shared files after download
    - Removed Qt flags from nogui .pro file
    - Packaging of VOIP for ubuntu lucid, and improved packaging scripts
    - Added new "Progressive" download mode, in between random and streaming. Still random as the 
      former and disk-friendly as the later.
    - Lots of work on ongoing new services (Not released yet): Wiki, GXS, Forums, Identity. 

  * Bugs
    - Fixed crash when lobby invitation received
    - Fixed DL getting stalled in streaming mode

 -- Cyril Soler <csoler@users.sourceforge.net>  Wed, 27 Jan 2013 21:30:00 +0100

retroshare (0.5.4-0.6099~precise) precise; urgency=low

  * Improvements
    - GUI
      * Added new dialog to set service permissions for friends.
      * Enabled embedded images in private chat and messages (only for QT version 4.7.0 and higher)
      * added tooltips to GroupFlagsWidget when buttons are unchecked (Patch from Anonym)
      * when an unknow user attempt to connect, show the name in the security item (Patch from Anonym)
      * Load new stylesheets for locale depended things. Loading order: qss.default (internal), qss.<locale> (internal e.g. qss.de_DE)
          stylesheet.qss (internal or external), stylesheet_<locale>.lqss (parallel to stylesheet)
      * Added api for news feeds to the plugin interface. Added news feeds to the FeedReader plugin.
      * Removed toaster for muted participant of a chat lobby.
      * Removed the policy TabFocus from some gui elements.
      * Made cert parsing errors translatable
      * added turkish translation

    - Packaging
      * packaging of NewsReader plugin and retroshare-nogui
      * added patch from bNK to make glib include dir detected on all linux systems. 
        Removed warnings about gpgme and gpg-error , which have no reason to stay now.

    - FeedReader:
      * Added error handling to xml functions
      * Added xslt transformation
      * Added retransform of existing messages
      * Redesigned preview dialog
      * Enabled embed images for forum feeds
      * Changed config format, switching back to an older version results in a loss of all data of the FeedReader
      * Fixed memory leak in xpath processing
      * Stop long loops when closing the preview dialog or shutdown
      * Added drag and drop to xpath lists in preview dialog
      * Fixed save of xpaths lists
      * Recalculate message count of the user notify when a feed with new items is deleted.
      * Set deleted message to read and !new.
      * Added test feed item in notify settings.
      * Fixed crash when removing a feed displayed in the main tab.
      * Fixed reading author of ATOM feeds.

    - libretroshare
      * fixed inconsistency in parameter naming, causing error_string to be mixed up with gpg id (Not a bug).
      * removed unimplemented entry loadCertificateFromFile()
      * removed #ifdef USE_NEW_CHUNK_CHECKING_CODE (enabled by default). Disable assume_availablility to put chunks or 
        not in checking mode. This was inconsistent. As a side effect, cache files of size > 1MB get chunk-checked as well, which is good
      * fixed tests: compilation, running, added new util functions, etc. Updated test results.
      * Added little upnp utility / test.
      * added checksum for new certificate format. Will be enabled in 0.6.
      * Fixed up bootstrap singleshot search function. Now returns parameters. Not functioning 100% correctly yet - due 
        to libbitdht behaviour (TO FIX)
      * merged GXS branch into trunk. GXS Services are disabled by default.

    - retroshare-nogui
      * made port non-optional for -S <port> 
      * Added SystemExternalAccess Function to RPC. This provides ExternalPort + DHTKey to Client. To be 
        used to find and connect - even if Dynamic IP address changes :)
      * fixed compilation

    - GXS
      * lots of improvements to GXSForums. Not released yet.
      * added pegmarkdown langage to Wiki

    - Other
      * added list of non backward compatible changes in README.txt, so that we can track them

  * Bugs
    - fixed the wrong notification of unexpected characters in management of RetroShare Links

 -- Cyril Soler <csoler@users.sourceforge.net>  Mon, 28 Jan 2013 16:30:00 +0100

retroshare (0.5.4-0.5995~precise) precise; urgency=low

  * Improvements
      - DHT
         * disable bitdht printStatus
         * increased expected dht startup period, as message rate has been dropped.
         * updated bdboot.txt file.

      - Chat
         * Made the private lobbies more accessible:
            - record which friend participates in a lobby even after they unsubscribed. The lobby 
              list that is sent to these 
            - friends contains the privaye lobby as well. In practice, people jsut need to be invited 
              once to a private lobby. 
            - Afterwards, they get the lobby in the list of nearby lobbies and can join by clicking on it.
            - added new item RsChatLobbyList_deprecated2, to replace old existing item. Should be removed in v0.6
            - changed PublicLobbies for VisibleLobbies in the code, to avoid confusion
            - the change is backward compatible, although old peers won't receive private lobby info from 
              new peers, of course.

      - GUI
         * Set email address in GenCertDialog to optional.
         * Fixed display of "TextLabel" in SecurityItem.    - 
         * Added patch from Henry: enable italian language
         * Added patch from Henry: Renamed gpg to pgp
         * removed some unused images
         * Added "Edit Share Permissions" Context Menu entry to My Directions, to edit easily share 
           permissions for each directory
         * Updated languages from transiflex.
         * updated English, Danish, German, Swedish translations
         * Added OperatingMode ComboBox to the status bar
            - Added second (temporary) switch to turtle.
            - Use session switch for OperatingMode.
            - made OperatingMode temporary - not saved.
            - Moved DataRate interface from rsiface (old) -> rsConfig.
            - Internally moved storage of data rate from pqipersongroup -> p3serverconfig
            - made DataRate + Operating Mode work together.
            - add ToolTip to OpModeStatus .... (can't actually view - please correct as necessary)

         * Fixed utf8 characters for group names in RemoteDirModel (shared files).
         * Fixed layout of the FriendRequestPage in ConnectFriendWizard.
         * Added flags for services and service permissions for peers
           Flags are identity-related, meaning that all locations of the same peers have the same flags.
            - It's now possible to tweak which services each peer can use. Service that can be disabled are
              forums/channels, discovery, anonymous routing.
            - by default, peers have all flags on.
      - File Transfer
         * use a std::map to search file hashes instead of sweeping the entire database. Improves performance a lot.

      - OpenPGP-SDK
         * Added function "ops_open" to openpgpsdk to open files with utf8 characters on Windows.
         * changed fopen into RsDirUtil::rs_fopen in PGPHandler, to allow paths with utf8 chars on windows. 
           Shoudl probably fix many startup issues

  * Bugs
      - added proper filtering of directories from RSLinks and RsCollection to avoid the possibility of writing out of the 
        download directory.
      - Added missing closeConnection when the connection dies with SSL_ERROR_SYSCALL.
      - Fixed display of files in flat view. The files of friends are shown again
      - fixed bug in ShareManager causing directory flags to be set on wrong directory after sorting
      - Protected waitingIds with Mutex in pqipersongrp.cc.
      - Reviewed Mutex in pqihandler.
         * In general it is okay, except for: DataRate Handling, and Win32 specific: WaitingList.
         * Cleaned up some functions.
         * renamed createPerson and createListener to locked_createPerson and locked_createListener.
        This is required as neither Listener nor Person are thread safe (TODO).
      - fixed missing error msg in p3cfgmgr when serialisation fails.
      - fixed bug in RemoteDirModel causing infinite loop to happen when group name is unknown
       
 -- Cyril Soler <csoler@users.sourceforge.net>  Tue, 20 Nov 2012 12:30:00 +0100

retroshare (0.5.4-0.5875~precise) precise; urgency=low
  * Improvements
     - GUI
        * patch from AC to perform html optimization of forum posts using the canonical function optimizeHtml()
        * fixed bug preventing share manager to modify more than one directory at once
        * Moved most of the hardcoded colors of lists and trees to the file qss.default (with help from braindead).
          Now the stylesheet can redefine these colors.
        * Added multiselective mute/unmute to chat lobby. Added mute/unmute with double click on icon.
        * Added flag for hungarian language.
        * Fixed sorting of date in forums
        * redesigned the Chatlobby participants list
            - used now QTreeWidget instead of a QListWidget
            - added icons for display the muted participants
            - added context menu for "Mute participant" ( context menu fix from thunder)

        * Removed context help button from the dialogs (currently not used) and added 
          minimize/maximize buttons to the "floating" dialogs.
        * Added to identify for Channel Files if its a media file(s) or not, to change the Play Button text from "Play" to "Open"

     - FT
        * added dynamic adding of direct sources from file lists. Useful for channels. Is called once every 61 seconds.
        * Added new link type: EXTRA_FILE, to allow sendign links with sources included so as to trigger direct transfer.
          This makes possible to send files through chat without permitting tunnel access to the files. The client requests
          the file as a direct transfer only, using the supplied source.

     - Patch to allow compilation on BSD
     - Fixed command to grab upnp patched version

     - Merged branch that provide group-based file permissions.
          Now users can sort peers into groups in the friend list, and attribute flags and parent groups 
          to the directories in the share manager.
          
        Flags are B-B-N, meaning in order:
           - browsable for peers in the parent groups
           - browsable for everyone
           - network wide for everyone
           Backward compatibility makes previously BN flags been interpreted as -BN, meaning 
           browsable/network wide for everyone.

        The merge also includes a significant improvement of the naming of flags with incompatible types
        which should sort out some existing bugs as well, since inconsistencies in flag usage have been
        found during the process.

  * Bugs
     - added additional checking of incoming compressed chunk map, in case the data is 
       currupted, which might happens with a corrupted ft_transfer.cfg file.
     - fixed permission of drap+dropped files. all attached files get added to extra list, 
       but with different permission flags depending on the client. From that, we compute 
       sharing permissions : turtle, or direct transfer only 
     - suppressed unitialized memory read in p3peers.cc
     - added missing mutex in destructor of ftFileProvider. Probably responsible for some random crashes

 -- Cyril Soler <csoler@users.sourceforge.net>  Tue, 20 Nov 2012 12:30:00 +0100

retroshare (0.5.4-0.5755~natty) natty; urgency=low

  * Improvements 
     - GUI
        * Added icons for the Channel TreeWidget
        * Added placeholder text for Search Filter items on Group TreeWidget
        * Added placeholder text for Search Filter items in Messages Dialog
        * update the authors on the help page
        * Redesigned GenCertDialog for the usage in Profile Manager.
        * Removed the filter comboboxes and replaced it with a menu in LineEditClear.
        * Added settings for the blinking icons
            - private chat window/tab
            - chat lobby tab
            - all tray notifier
        * Added a find Icon Button for the class LineEditClear
        * Removed all not needed find icons from the Dialogs.
        * Enabled sorting for the Lobby Dialog
        * Added a placeholder text for the Search Forum filter

        * Added blinking of the chat icon for private chat window and chat lobby
        * Added blinking of the systray icon for the notifier and enabled it 
          for private chat.
        * Cleaned includes in FriendsDialog.cpp
        * Fixed switching between combined and not combined tray icon notify 
          with available messages.
        * Added sounds when message has arrived and download was finished.
        * The next unread button in forums search for child items and start 
          at the top when the end of the list is reached.
        * Changed SoundManger to allow the plugins to play sounds.
        * Added example to VOIP (commented out).
        * Added more PRE_TARGETDEPS for Windows compile.

     - DHT
        * Improved the dht msg history storage.
        * specify how long we store for.
        * cleanup old msgs.
        * improve printing of history.
        * add timeline storage as well.
        * disabled by default, enable USE_HISTORY in bdnode.c

         There appears to be a bug related to copying bdId's around.
         Some of the bootstrap ids are malformed, and this crashes rs.

  * Bugs
      * Fixed stupid bug inDHT. Labels are the wrong way around.
        This meant limit is set to HIGH (50msg/sec) when it should be LOW 
        (5msg/sec)

 -- Cyril Soler <csoler@users.sourceforge.net>  Sat, 27 Oct 2012 14:30:00 +0100

retroshare (0.5.4-0.5697~natty) natty; urgency=low

  * Improvements

     - GUI 
        * Added Search Filter for the FriendsList
        * set a minimum spacing on ChatWidget
        * Added to display tooltip's for the Voip button's
        * Moved the Send Button to right side of the Chat LineEdit for better look.
        * Changed some language strings in the GUI, removed hardcoded fonts (Patch from Henry)
        * removed html strings from GenCertDialog
        * moved some description text from the header, to look better
        * update translation strings
        * several improvements of the GUI layout.
        * cleaned up many unnecessary files
        * Improved (ungendered) English friend recommendation message (patch ID: 3536093 )
        * Support for custom qss in data dir and config dir
        * update win installer script, to install turkish Qt translation
        * renamed Bubble Compact folder
        * Added attempt to load the translations for the Qt's internal srings from datadir/translations

     - VOIP plugin
        * Added support for external translation files for the main application and the plugins LinksCloud and VOIP.
          The following files are loaded from the directory <executable dir>/translations: retroshare_*.qm, LinksCloud_*.qm, VOIP_*.qm
        * Added turkish voip translation
        * Added Brazilian Portuguese VOIP translation

  * Bugs
     - Fixed "jumping" of the items in channels and news feed when items are changed (load, toggle and remove).
     - Added workaround for QTBUG-3372.
     - Hide request Label, when peer is unknown
     - Fixed edit of a message with plaintext. The newlines remain unchanged (investigated by braindead)

     - Plugin LinksCloud:
         * Fixed crash when clicking on the link.
         * Fixed process of https links.

 -- Cyril Soler <csoler@users.sourceforge.net>  Sat, 20 Oct 2012 14:30:00 +0100

retroshare (0.5.4-0.5611~natty) natty; urgency=low

  * Improvements
     - removed some warnings and debug info 
     - Fixed sensitivity of the action in the context menu to copy a link from the chat text 
       when scrollbars are visible.
     - Stored some license files to utf-8 encoding, required by nsis installer
     - Changed font color in ProfileWidget to standard.
     - Corrected installer translation
     - Disabled fix color of chat messages for Qt 4.5 and lower because of missing methods on QColor in Qt 4.5
     - Add direct public sources for files shared in channels, when available
     - Improvements to turtle router:
        * made faster tunnels stay longer by increasing tunnel campain time. Should favor fast tunnels. 
        * desactivated tunnel shortenning since it cannot produce consistent tunnels every time
        * increase cache TTL for search requests to 240 secs and tunnel requests to 120 secs.
          This should remove some zombie tunnels and search requests.
     - Debian Buildscript. Fixed Version for Packagename

  * Bugs
     - Fixed crash when closing the settings dialog

 -- Cyril Soler <csoler@users.sourceforge.net>  Sat, 26 Sept 2012 22:30:00 +0100

retroshare (0.5.4-0.5582~natty) natty; urgency=low

  * Improvements
     - updated to v0.5.4a
     - improved chat readability (Patch from AC)
     - Added patch from braindead for embedded images in private chat and 
       messages (only for QT version 4.7.0 and higher) (Not enabled on 0.5.4a release)
     - removed debug info outputs
     - changed priority of search request items to 6 instead of 5, to make it 
       consistent with tunnel request priority
     - added missing libs to compile on arch linux (Patch by AC)

  * Bugs
     - ensure that ssl id is always converted to lower case before being used 
       to add a new friend. This fixes the bug allowing to add multiple times 
       the same friend by changing the case is the SSL id

 -- Cyril Soler <csoler@users.sourceforge.net>  Sat, 22 Sept 2012 14:30:00 +0100
 
retroshare (0.5.4-0.5555~natty) natty; urgency=low

  * Improvements
     - improved plugin system 
        * now using two lists of rejected/accepted plugins. RS asks at start to load unknown plugins 
          when plugins or main executable have changed.
        * added API and SVN numbers into required external plugin symbols
        * added help dialog to plugins
        * improved version number scripts to add the missing revision number as a int
     - Added window icon for the application. All windows without a parent are now showing this icon.
     - Moved some internal stylesheets to the file Standard.qss.
     - Tweaked standard style of the feed items.
     - moved file rsversion.h to rsguiversion.h, since it caused a conflict with libretroshare/src/util/rsversion.h 
       when included as util/rsversion.h. Updated version detail script.
     - reworked context channel menu to allow unsubscribing from own channels. Removed some irrelevant items. 
       Added warning when publish rights can/cannot be restored.
     - Improved ProfileManager
        * removed combobox and added export to the list of identities
        * add extension to the filename when the user enters a name without extension
        * refill list after generating a new identity
     - Fixed height of the search input field when using no stylesheet.
     - Changed the colors of the feed items. It was too bright.
     - Enabled the menu item in the context menu again to copy the link when right clicking on a link.
     - Reworked some elements in the standard gui.
     - Added VOIP Plugin to windows installer
     - Added new finish translation from Beluga
     - Added two buttons to the NotifyPage to show examples of the activated news feeds and toasters.
       Can also be used to test the stylesheets.
     - Reworked design of the toaster and moved internal stylesheets to the file Standard.qss.

  * Bugs
     - Fixed report of failing connexion attempts/recepts. Cleaned the code a little bit
     - Fixed message in pgphandler when signing a post
     - Fixed small display issue causing the availability map to become black when more than 6 sources are present
     - Added missing close of the temporary keyring file. Now the keyring is saved properly and the newly 
       added keys are not lost after shutdown of RetroShare.
     - Patch from AsamK to avoid crash when no uids are present in the key. How can this happen anyway?

 -- Cyril Soler <csoler@users.sourceforge.net>  Sat, 15 Sept 2012 14:30:00 +0100

retroshare (0.5.3-0.5503~natty) natty; urgency=low

  * Improvements
     - Big cleaning of style sheets
        * Moved some internal stylesheets to the file Standard.qss.
        * Set the built-in stylesheet "Standard" as default for new profiles.
        * Removed some unnecessary style sheets.
        * Added two internal stylesheets:
           - qss.default - This file is used as default for all stylesheets (e.g. the frames of 
             the AvatarWidget) and can be overloaded from the selected stylesheet
           - Standard.qss - The standard stylesheet for the current look of RetroShare. More internal stylesheets can be added.
             The plan is to move nearly all internal stylesheets to the files Standard.qss/qss.default. After that the "empty" stylesheet 
             should represent the system theme of the os.

     - Added clear chat history to the context menu of the message text browser
     - Added new base class HeaderFrame - image and text at top of the windows
     - Enabled the RetroShare icon of the collection file dialogs. 
     - estored SSLid to lower case in old certificate format.
     - Removed dialog FriendRequest and use ConnectFriendWizard instead.
     - Added new certificate format (Easier to parse/clean, more robust)
        * checkbox for using old cert format in security page. Old format used by default, to avoid confusing newbees
        * added new RsCertificate class to handle all certificate actions
     - Several small tweaks to the gui
     - Redesigned the Create Chat lobby dialog
     - Fixed compilation with newer versions of libupnp, except for debian sid which uses a patched old version (crap!)
     - update Spanish translation (from Senpai)
     - Added a new page for user request to ConnectFriendWizard. The page is shown instead of the conclusion page when 
       the user clicks on the certificate link in a message of type user request.
     - Enabled icons for VOIP plugin
     - Enabled display of plugin version in plugin items
        * Hide the import/export button, and set the new identity CheckBox set checked, when start a new Profile 
          generation from Profile Manager.
        * Set PluginItem icon size to 24
     - Added automatic clean of the friend certificate in ConnectFriendWizard.
     - Fixed code for certificate link generation.
     - Added new Chat style Bubble, generated by Victor for RetroShare
     - Added a profile manager. Shoudl be useful for importing/exporting identities.

  * Bugs
     - fixed nasty bug causing crashes when syncing the keyring from disc
     - added writing of public keyring to a tmp file + rename, to avoid corrupting it when RS stops during the whole operation
     - Added a quick fix for the freeze of RetroShare when using a file dialog on Windows
     - Fixed showup of self signatures in certificates that are not in the keyring already
     - Added code to avoid corruption of bdboot.txt: first write to tmp file then move the file. Refers on 
       Windows utf16ToUtf8 from libretroshare. This forward reference can be improved.
     - Fixed bug with empty certificate strings when clicking on a certificate link with only a PGP id.
     - Removed deadly assert in validate.c:338 causing crashes on error.

 -- Cyril Soler <csoler@users.sourceforge.net>  Mon, 25 June 2012 21:30:00 +0100

retroshare (0.5.3-0.5400~natty) natty; urgency=low

  * Improvements
     - improved GenCertDialog logic, showing import buttons only when necessary, enabled 
       key import when no key is present
     - show count of new messages in the toolbar
     - improved chat dialog (enabled colored nicknames)
     - Reworked notification code in system tray.
     - Added a base class and a possibility for the main dialogs and the plugins (derived from MainPage) to provide a notifier.
     - added systray notifications for chat lobbies.
     - Enabled some more translations in news feed items and fixed german translation.
     - Removed not needed file "Thumbs.db" in skin directory.
     - improved pgp cleaning function

  * Bugs
     - fixed a few bugs in cert creation window:
        * private key was not correctly added to private keyring
        * self signature validation was reported unsuccessful when unknown signatures where found
     - fixed re-copy of dht bootstrap file when the file is empty
     - fixed up memory leak in openpgp
     - Trim right spaces from certificate name.
     - removed a couple of assert that could crash RS
     - Fixed bad default value for filter column in ForumsDialog
     - return false when ssl passphrase is of length 0. This should not happen, unless the file is void, since openpgp does not complain about decrypting empty files
     - added auto-clean of certificates at load time. Removes many errors.
     - fixed bug due to misinterpreting non SSLid drectories as potential locations

  * Ongoing developments
     - merged GXS branch into trunk. No visible changes to the end user for now.

 -- Cyril Soler <csoler@users.sourceforge.net>  Mon, 25 June 2012 21:30:00 +0100

retroshare (0.5.3-0.5327~natty) natty; urgency=low

  * Improvements
      - Merged branch v0.5-OpenPGP into trunk. Please read the following important release notes:

          User-level changes:
          ==================
          * libgpgme is not used anymore; it is replaced by a built-in piece of code called OpenPGP-SDK 
            (http://openpgp.nominet.org.uk/cgi-bin/trac.cgi) that was improved to be used by RetroShare
            for handling PGP keys.
          
          * the gnupg keyring is not used anymore. Now, RetroShare has it's own gpg keyring, shared by all instances.
            On linux it's located in ~/.retroshare/pgp/. A lock system prevents multiple locations to read/write keyrings
            simultaneously.
          
          * the trust database from gnupg is not documented, so RetroShare cannot import it. This comes from the fact that
            the GPG standard (RFC4880) asks explicitly not to export trust information. So RetroShare has it's own 
            trust DB shared by locations. This means you need to re-trust people. Sorry for that!
          
          * at start, if no keyring is found, RS will propose to copy the gnupg keyring to use your existing keys. Clicking on 
            "OK" will do the copy, and you should find back all existing locations, except for DSA keys.
          
          * locations for which the suitable keypair is not in the keyring will not be displayed in the login window
          * locations for which the suitable keypair is not a RSA/RSA key will not be displayed. RetroShare does not
            support DSA/Elgamal keypairs yet.
          
          * a key import/export exchange function has been added in the certificate creation window (you go there from the login
            window by clicking on "manage keys/locations". This allows to easily create a new location with the same pgp key on
            another computer. To obtain a suitable keypair using gnupg, you need to concatenate the encrypted private key and the 
            public key into an ascii file. This can be done using:
            		gpg -a --export-secret-keys [your ID] > mykey.asc
          		gpg -a --export [your ID] >> mykey.asc
          
          * importing a key with subkeys in not yet possible. Please remove subkeys before importing.
          
          * The code has been tested for a reasonnable amount of time, but it's not possible to prevent some new bugs 
            to appear. Please report them asap supplying: call-stacks if possible, and terminal output. In particular,
            openpgp has some assert()'s that should not be triggered unless RetroShare is calling it in an improper way.
          
          Internal changes
          ================
          * a specific component, PGPHandler, takes care of the interface between openpgp-sdk and RetroShare
            openpgp-sdk is c-code, with it's own memory management, which has been kept well separated from 
            RetroShare.
          
          * GPG Ids are now a specific class (not a std::string anymore) for code consistency reasons. As strings are
            still used in many places, this requires a few conversions. In particular, AuthGPG takes strings as
            function params and calls GPGHandler with the proper PGPIdType class. In the future, RetroShare should
            only use PGPIdType. The same will be done for SSL ids.
          
          * signature cleaning is still handled by the Retroshare built-in function, not by openpgp, but we will 
            do this later.
          
          Still to do
          ===========
          * DSA needs subkey handling, since the encryption is performed by a Elgamal subkey. Not sure this will be done.
          * GPGIds/SSLIds cleaning (meaning replace strings by appropriate types). Lots of confusion throughout the code 
            in retroshare-gui in particular.
          * key removal from keyring. This is a challenge to keep locations synchronised.

      - Rework of tcponudp/tcpstream should make UDP connections much more stable.
        	* Fixed retransmit algorithm. Much more closely matched to TCP standard: http://tools.ietf.org/html/rfc2988
        	* This increases retransmit timeouts, and reduces the number of packets resent.
        	* Added better debugging for retrans/close as separate #defines.
        	* Further testing is required ;)

      - Added dynamic choose of sources for chunk crc requests. Fixes the bug that would let 
        a transfer not finish if the original surce for a crc is not here anymore.
        If you have a unfinished transfer do a force-check after restart to get back chunks that 
        where still on verification stage.

      - moved channel action menu into right click, for better consistency
      - Enabled word wrap of the description in ChanNewItem.
      - Added a new button in ChanMsgItem and ForumMsgItem to set the message as read (without expanding the message) and 
        remove the item from the news feed.
      - Redesigned ChanMsgItem.
      - updated french translation (Max Romeo)
      - improved build bat file (san)
      - Moved the include folder OpenSSL to the other external includes for Windows compile.
      - added warning for unsupported keys. It is triggered when no valid keypairs are found at start, and when unsupported 
        keys pairs are found when copying the keyring
      - Enabled translation (system default language) of the message box before the login to a profile.
      - Fixed german translation.
      - removed not needed info buttons for the infodialog
      - desactivated TrustMatrix, by the time we decide wether it is worth keeping it, and implement a better version of it
      - updated package building scripts for ubuntu

  * Bugs
      - fixed stupid bug in friendlyUnits() causing crashes when displaying files with size > 1TB
      - possible fix for bug on ARM archs (reported by Ralfk)
      - fixed possible bug due to misplaced mutex (Reported by bNK)
      - added missign break, causing a crash when creating a new key
      - Fixed crash when starting the help browser from friend details the second time.

 -- Cyril Soler <csoler@users.sourceforge.net>  Mon, 25 June 2012 21:30:00 +0100

retroshare (0.5.3-0.5254~natty) natty; urgency=low

  * Improvements
     - Added windows for bandwidth/display analysis in tray menu
     - Reworked tcponudp/tcpstream. Should make UDP connections much more stable
       Increses increases retransmit timeouts, and reduces the number of packets resent.
       Added better debugging for retrans/close as separate #defines.
     - Moved QoS from pqihandler to pqistreamer. Removes one out queue, suppressed lags
       when program is eavily loaded.
     - Added bandwidth monitoring service to libretroshare
         * p3bwctrl.h/.cc & rsbwctrlitems.h/.cc
         * New Interface in pqihandler to extract the data.
         * New Interface in rsconfig to display in GUI.
         * Added extra debugging in pqistreamer for catching big outqueues.
     - Enabled full chunk checking code:
         * unchecked chunks are not made available to swarming sources, not saved as done.
         * force check now uses the simple method to put all chunks in checking mode
         * force checked files can be cancelled (finally!)
         * improved display (use red for active chunks, yellow for checking)
         * cache file are not using chunk checking (assume_availability=true)
     - fixed compilation on OSX
     - Added patch #3510849 from Adam (interfect). Capitalize "copy RetroShare key to clipboard"
     - Added "file:///" to "%style-dir%" for the chat styles.
     - Renamed "RetorShare" to "RetroShare".
     - Fixed german language
     - Changed chatstyle structure from
     - [RS-Dir] / stylesheets / {public | private | history} / my_chatstyle /
       to
       [RS-Dir] / stylesheets / my_chatstyle / {public | private | history} /
     - Optimized the fill of the up- and downloads in TransfersDialog

  * Bugs
     - fixed bug in friendly display of size > 1TB causing crashes in e.g. channels
     - fixed bug in display of upload progress
     - Fixed bug in Qt for Windows Vista and higher. Convert path from native separators 
       of filenames from QFileDialog::getOpenFileName(s) (Patch from AsamK)
     - Fixed sorting (case insensitive, numbers) in SearchDialog.
     - bug fix, avatar item deserialisation unsafely assumes valid image length. caused crash on windows.

 -- Cyril Soler <csoler@users.sourceforge.net>  Mon, 25 June 2012 21:30:00 +0100

retroshare (0.5.3-0.5189~lucid) lucid; urgency=low

  * Improvements
     - Sort participants list in the chat lobby case insensitive
     - Added check for empty lobby nick name.
     - Moved notify of lobby nick name change from the gui to p3ChatService.
     - Added new placeholder %style-dir% for ChatStyles (patch from Imanuel)
     - Fixed replacing of %color% in ChatStyle. It should not be replaced after %message%.
     - Redesigned ConnectFriendWizard as ui file.
     - Added new base class DropLineEdit.
     - Fixed german language.
     - changed base-class of AvatarWidget to QLabel (Patch from braindead)
     - prepared property-dependend stylesheets
     - simplified avatarwidget

  * Bugs
     - Added missing mutex locks for p3ChatService::_default_nick_name.

 -- Cyril Soler <csoler@users.sourceforge.net>  Wed, 24 May 2012 22:30:00 +0100

retroshare (0.5.3-0.1~precise) precise; urgency=low

  * Improvements 
     - Added threaded loading of channels (GUI).
     - added paste own certificate to chat/forum context menu (patch from AC)
     - Added function to mute some participants in chat lobbies
     - Switched on optimized compile on Windows.
     - Improved multi-source file transfer in two ways:
         * tunnels can borrow data chunks from only slower tunnels, to prevent blocking fast tunnels
         * inactive chunks are asked again after a longer time, to avoid wasting bandwidth asking them twice

     - Added new notify on connect attempt by the local message system.
     - Removed not needed field in FriendRequest Dialog
     - Added new friend request toaster from defnax.
     - Fixed base path for the external stylesteets
     - Optimized channel loading and layout.
     - Optimized RsCollectionDialog (still without thread).
     - Enabled extended selection and mark with the key 'space'.
     - Improved the default recommendation text
     - Added a default styleSheet for the "Confirm Friend / Add as Friend" Button
     - Moved HandleRichText from the folder "chat" to "util" and redesigned the source
     - Extended RsHtml::formatText to replace the RetroShare links with an image and enabled 
       this for the certificate links in the system messages (friend recommendation and user request)
     - Added new ObjectPainter for painting a button on a pixmap
     - Display old and new nickname to Peers during nickname change in ChatLobby.
     - update french translation (Max Romeo)
     - Fixed utf8 in notifyQt
     - Improved friend recommendation
     - Added a title label to Friend Request Toaster, little design changes
     - Added empty entry to stylesheet-choice for "no stylesheet" and moved method "loadStyleSheet" from MainWindow to Rshare (patch from braindead)
     - Added ability to style the system messages in chat (e.g. Lobby management)
     - Added new message flag for system messages like friend request.
     - Show "RetroShare" as sender of system messages to myself.
     - Added new quick view in MessagesDialog to filter system messages.
     - Changed RetroShare link in friend request message to certificate.
     - Added new subject image for the system messages (defnax).
     - Removed not used notify in message service.

  * Bugs
     - Removed data race in QObject::connect() vs. NotifyQt signals by enabling notification signals only after GUI is created
     - Added dynamic locking function for the OpenSSL library to prevent data races.
     - Fixed handling of html links in HandleRichText::formatText.
     - Removed possible data race on boolean value (Not critical)
     - Removed non-mutex-protected reference in p3turtle.cc
     - Fixed issue with lost downloads when RetroShare exits (or crashes) during the load of the file transfer items. The pending list was not saved.
     - Fixed bug probably responsible for random crashes in DHT code
     - Removed usages of "std::istringstream" and "std::stringstream", which are not thread-safe.

 -- Cyril Soler <csoler@users.sourceforge.net>  Wed, 16 May 2012 22:30:00 +0100

retroshare (0.5.3-0.5114~natty) natty; urgency=low

  * Improvements
     - removed minimal version
     - Improved TR routing strategy:
        * updated base forward probabilities to larger values
        * used a minimum FP to 1/nb_connected_friends instead of 0. This is the larger non-explosive value.
        * changed tunnel management time to 2 secs instead of 1, setting the overall number of TR/s emmitted 
          for all downloads to 0.5 (Should reduce the TR load for the whole network by a factor of 2).
     - Activate DHTML in Doxygen Documentation, for Fold in/out Class hierarchy images.
     - New Doxygen configuratin for Retroshare GUI, see at
         http://notdefine.de/retroshare/retroshare/trunk/retroshare-gui/src/html/index.html
     - Add missing includes "unistd.h" for compiling with gcc 4.7.0. (Patch from AC)
     - Added a label for Connect Attempt after nickname "wants to be friends with you on RetroShare"
     - Added "You have a friend request" label to FriendRequest Dialog
     - Renamed "Accept Friend Request" Button to "Confirm",
     - set correct stylesheet for new forum item
     - Added stylesheet for the Friend Request Buttons
     - Added new basic class for a QLineEdit with a clear button - LineEditClear.
     - Enabled file preview on Windows.
     - The link file to preview a not finished download is created in temp directory.
     - Added a messagebox when preview a not finished download to remove the link file.
     - Fixed german language
     - Removed the max length from the ip fields in ProfileWidget to display all 15 digits.
     - enabled disabling autodownload for channel admin (patch from asamK)

  * Bugs
     - removed all calls to std::stringstream, causing a thread data race on windows
     - don't remove color and font when the last char is deleted from the chat text entry box (Patch from AC)
     - Fixed, hide "Accept Friend Request" Button for Unknown Peers
     - Improved Search Dialog (Patch from AsamK)
        * don't add friend sources count to anonymous count each time a result for the same file is received!, this could 
          lead to enormously large sources numbers
        * don't readd search in summary list if it was already removed by the user
        * don't clear the filter when new search results are added
        * when using the file name filter only show result from the current search, not also from previous searches
        * fixed adding only file types which were searched for, for this I created a new hidden column in summary list to store the file type
        * fixed sorting by file size/age, pad string with '0' instead of ' ' Search feature: a quirk I've found
        * decrease gui hanging:
           -when adding search results temporarily disable sorting
           -only add 250 instead of 500 items in one go
           -don't call selectSearchResults() for each item added to the result list; instead call hideOrShowSearchResult() 
            which only sets the hidden status of the added item, not the complete list
           -replace std::string with QString, removes unnecessary conversions
     - Fixed clickable links in forum message feed.

 -- Cyril Soler <csoler@users.sourceforge.net>  Sat, 21 apr 2012 10:00:00 +0100

retroshare (0.5.3-0.5067~natty) natty; urgency=low

  * Improvements
     - Added Copy Certificate Button to ProfileWidget
     - Fixed compile of VOIP on Windows with Qt >4.7
     - Modified some defaults (auto check of shared directories to 15 minutes, time to idle mode to 5 minutes)
     - Added welcome message to the chat lobby
     - Changed display of the own name in FriendsDialog from "Name (me) Location" to "Name (Location)".
     - update new Spanish translation from Aitor
     - Added two new functions to libretroshare for writing formatted data to std::string
     - Added two new images from defnax to SecurityItem for SEC_TYPE_CONNECT_ATTEMPT and SEC_TYPE_UNKNOWN_IN.kkkkk
  	  - added new toasters for private/group/lobby chat.
     - added copy certificate button to profile widget
     - added topics to chat lobbies. Improved CL gui
     - added deferred checking of chunks in FT. Not fully functional yet, for backward compatibility reasons.
     - prepared libretroshare for OpenSSL-1.0
     - Bring the main window to foreground when receiving a link from the browser (Windows only).
     - Fixed compilation on MacOS 10.6 (patch from K.Gupta)
     - Update installer script, added spanish,arabic,italian,greek and portuguese language support
     - Optimized layout of the newsfeed items.
     - Fixed linking of the VOIP plugin on Windows (Exports all symbols from RetroShare.exe and import it in the plugins.
        Removed the direct linking of the libretroshare and libbitdht from the plugins.)
     - Fixed utf8 characters in the transfer tab name of plugins.
     - Functional version of VOIP plugin.
     - Added ability for plugins to return their own PopupChatDialog class
     - Count the friends (gpg id's) instead of the locations (ssl id's) in the statusbar.
     - Moved update of the friends from QTimer to signals.
     - Combined p3LinkMgr::getFriendCount and p3LinkMgr::getOnlineCount and moved to p3PeerMgr.
     - Fixed scroll position of the text browser in the chat dialog when the friend changes the status and the info frame is shown or hidden
     - Reworked the start of a chat with a gpg id (doubleclick in friends tree). Removed the question to send a message when a chat 
        with an offline friend is started. Start the chat when only one ssl id exist (online or offline) or only one ssl id is online.
        Show a messagebox when more than one ssl ids are online or all are offline.
     - Added check for required location during gpg key generation.

  * Bugs
     - Added thread safe function for inet_ntoa in libbitdht using the existing thread safe function for inet_ntoa in libretroshare
     - Fixed deadlock when receiving a chat message with open history browser.
     - fixed version script (Patch form AC)
     - Fixed Download link for Email Invite
     - Fixed utf8 in dropping links to channels (patch from AsamK)
     - Fixed pasting cert links in the friend list (patch from AsamK)
     - Added code to allow pasting GPG certificates missing a newline at the end (patch from AsamK)
     - Fixed display of the location with utf8 characters in ConnectFriendWizard.
     - Fixed icon size in forums
     - Disabled adding new keys from friends of friends in non-discovery mode.
     - Fixed display of friend status in chat window
     - Fixed bug returning false while a string is expected in p3distrib

 -- Cyril Soler <csoler@users.sourceforge.net>  Fri, 20 feb 2012 12:00:00 +0100

retroshare (0.5.3-0.4973~natty) natty; urgency=low

  * Improvements
     - added BSD specific changes
     - made settings page system more automatic
     - updated french translation
     - mark local existing files in search dialog with red color
     - started working on VOIP plugin (not finished yet)
        * merged p3voRS code with plugin code
        * created new interface directory retroshare-gui/src/retroshare-gui
        * improved plugin system to allow adding settings pages from plugins

  * Bugs
     - fixed crash in config dialog
     - fixed missing return value in ftcontroller.cc

 -- Cyril Soler <csoler@users.sourceforge.net>  Fri, 20 feb 2012 12:00:00 +0100

retroshare (0.5.3-0.4953~natty) natty; urgency=low

  * Improvements
     - removed unused plugins in .pro file
     - added early sendign of chunkmap requests to new sources (FT)
     - saving finished/checking transfers (FT)
     - improved swarming test code with fault simulation
     - started conversion of VOIP code (from Joss) into a plugin. Unfinished!
     - Added multi friend recommendation dialog. You can start it from the tools menu in FriendsDialog.
     - GUI
        * Moved the news feed tab to the first position.
        * Added icon to the ConnectFriendWizard.
        * renamed Dht to DHT, Authemticated to Authenticated
        * The channel message (in channels) is set to read when the user clicks on the show more button.
        * The forum/channel news feed is removed when the user reads the message in forums/channels
        * The standard font is now used for new chat lobbies.
        * Added a new menu item to set the font of a private chat and chat lobby to the default font.
     	  * Changed the color of the time of the compact chat style from red to gray.
     	  * disabled autodownload when subscribing to a channel.
        * set a icon for Friend Recommendation menu action
        * Sort nick names by name in the chat lobby.

     - Added missing IPs to certificate links
     - set max chunk inactivity period to 5 mins instead of 1 mins. Shoudl favor slow DLs. This 
       is nw possible since missing bits will be re-asked regularly (FT)
     - added Cache system to GPG certificates. Should reduce GPG calls by 90%
     - added code for Intro Server: automatically accept peers, and spews a chat lobby where users can meet.
     - Show clickable links in the channel feed message.
     - updated franch and german translations
     - added control over TR forward rate, so that we can experiment with it on large bandwidth servers

  * Bugs
     - fixed 2 potential flaws of swarming causing request of unavailable data 
     - only ask CRC32 maps to peers that have a complete file.
     - Fixed private message notification. Remove offline private messages of none friends 
       at startup and when a friend is removed.
     - Moved the removing of the history of removed friends from p3PeerMgrIMPL to p3ChatService.
     - Fixed Download toaster (utf8 in file name, use QDesktopServices vs RsUrlHandler for collections, fixed
       crash after opening a collection) (Patch from AsamK).
     - fixed utf8 chars in certificate links (Patch from AsamK)
     - removed cache adding strategy to DL queue that was O(n^2). Now addign cache at the end of the queue
     - Fixed bug when the user clicks on a link without http:// in a QTextBrowser. This link was 
       oppened directly in RetroShare.
     - Attempted fix for maintaining External Port in Manual Forwarded Mode.
        * added check for RS_NET_MODE_EXT instead of RS_NET_MODE_TRY_EXT... as trys aren't used in p3PeerMgr.
        * removed tryMode from external interface - as this data is not available anymore.
        * Removed setting this parameter in p3peers.cc
     - Fixed reference to tryNetMode.

 -- Cyril Soler <csoler@users.sourceforge.net>  Fri, 17 feb 2012 14:00:00 +0100

retroshare (0.5.3-0.4909~lucid) lucid; urgency=low

  * Improvements
     - Added Code to convert retroshare-nogui into an "Introduction Server".
       Perhaps the community can use this instead of their existing certificate exchanger.
     - Updated the help page, added few more infos

  * Bug fixes
     - Fixed RS links with special caracters: ",&,#
     - Removed unused plugins from trunk
     - Fixed parenthesis problem with #ifdef that armed lupdate
     - Fixed layout of the CryptoPage and german language.
     - Fixed many tranlation issues

 -- Cyril Soler <csoler@users.sourceforge.net>  Wed, 08 feb 2012 22:00:00 +0100

retroshare (0.5.3-0.4885~natty) natty; urgency=low

  * Improvements
     - Added new variant to the compact chat style with colored nicknames calculated from the name.
       It's disabled by default. You can enable it with the define COLORED_NICKNAMES in ChatStyle.cpp.
     - Fixed up Email Invite Text...
         * Unified Text Source.
         * Added "Cut Below Here" line
     - Switched BanList sharing to only your own list. (was OWN + FRIENDS lists)
    	 This data is not used at the moment, so just reducing data before release.
     - Updated English Email Invite (sorry guys, you'll have to redo translations).
     - Set OSX default style to "Cleanlooks" - as AQUA style hides some windows.
     - Updated Version strings to V0.5.3a. / 4874
     - Fixed missing headers for plugin manager.
     - Disabled ZEROCONF for OSX.
     - minor improvements to plugin system
     - updated french translation (from Max Romeo)
     - Added new compact style for chat.
     - Improved the HTML optimizer.
     - Start the CreateLobbyDialog from the list of chat lobbies with the privacy level of the selected item.
     - fixed to display the the correct help icon on MainWindow
     - Fixup BSD qmake parameters: mainly library locations.
     
  * Bug fixes
     - Fixed handling of utf8 characters in lobby nick name.
     - fixed small bug in certificate correction (missing ending newline caused crash)

 -- Cyril Soler <csoler@users.sourceforge.net>  Fri, 03 Feb 2012 22:00:00 +0100

retroshare (0.5.2-0.4861~natty) natty; urgency=low

  * Improvements
     - Added (make functional) the lobby menu in the context menu of the gpg and group item in FriendList.
     - Added button to add/remove signatures and button to copy RS cert link to clipboard
     - Added doubleclick to join a lobby.
     - Disable the Startup Wizard. Most of the defaults are sensible now, so its no longer needed!
     - Fixed default data rates to sensible options: 200 kB/s down, 50 kB/s up.
     - Added Minimal certificates to discovery exchange. They are invoked if the standard cert is over 10k.
     - Switched std::vector.data => &(std::vector[0]) to remove linuxism in radix64.
     - Added new common widget FriendSelectionWidget for selecting friends and use it in CreateLobbyDialog, 
       ShareKey (forums and channels) and MessageComposer.
     - Fixed german language.

  * Bug fixes
     - Added Check for successful Req creation (was crashing with NULL pointer).
     - Fixed echoes in chat lobbies
        * added a time stamp to lobby events (new item tag)
        * controlling time stamp of lobby msg and event: drop packets if time is older than cache duration.
        * moved connexion challenge code to lobby management loop
        * added new type of lobby invite to handle connexion challenges and avoid false invitations in the GUI

        New lobby event format is not backward compatible -> "peer typing" and "peer joined/left" will need 
        the new version. Messages are still compatible)

     - Fixed crash when closing a chat window.
     - Fixed Auto-Download Button
     - Fixed wrong display of the news feed notify in FriendsDialog when the tabs were moved.
     - Another fix for the discovery fiasco... Turns out that I broke the system with my previous changes.
        * Allow certificates through with no attached GPG Certs.
        * Added StoreAllKeys() call after adding new GPG Certificate.

 -- Cyril Soler <csoler@users.sourceforge.net>  Thu, 24 Jan 2012 19:00:00 +0100

retroshare (0.5.2-0.4840~natty) natty; urgency=low

  * Improvements
     - added retroshare certificate links: allows to paste certificates everywhere.
     - added certificate links in friend recommandations
     - added certificate cleaning method, to remove signatures at export
     - improved chat lobby GUI
         * added proper counting of peers in chat lobbies, using keep-alive packets, time stamps, etc.
         * Moved the chat lobby tabs to the FriendsDialog.
         * Extracted a new widget ChatWidget for the basic chat handling from the 
             PopupChatDialog and use it in ChatLobbyDialog too.
         * Added an own ui for the ChatLobbyDialog.
         * Saved settings of the ChatLobbyDialog.
     - Reworked SoundManager and SoundPage in the settings.
     - Added new icon in the statusbar to switch off the sound
     - Enabled Relays by default. 
         * This will only effect people who upgrade from a very old version.
         * Other people will have to switch it on manually.
         * Default is 0 friends, 1 FOF & 1 General @ 1kb/s... max 4kb/s usage per peer.
     - Disabled Thread debugging.
     - Fixed up bdProxyId initialisation
     - Improved Error Code translation (for unknown entries)
     - cleaned up some of the std::cerr output.
     - Changed parameters of RsStatus interface from "std::string" to "const std::string&"
     - Fixed german language.

     - Added Native (Bonjour API) Nat Port Forwarding to OSX.
        * new classe p3zcNatAssist
        * moved some common ZeroConf functions / definitions around.
        * moved virtual tick() to parent class: pqiNetAssist
        * added zcNetAssist section to makefiles. (active for OSX build)
        * setup switch between p3zcNatAssist & upnphandler in rsinit.cc

     - Changes to support Relays.
        * added p3BitDht::addKnownNode() so that DhtIds can be used instead of SslIds.
        * switched from bdStdDht() functions to use bdModDht().
        * made DhtFunctions a class variable.
        * added function to modify NodePerBucket() parameter.
        * Bugfix for LinkType. peerConnectAddress.flags was not initialised.
        * Extra debugging of LinkType data (use LINKMGR_DEBUG_LINKTYPE).
        * cleaned up udprelay output.
        * Added Compile Rules to libretroshare.pro for building LocalNet Testing Version. (testnetwork)
        * Added NumQueryNodes() function to bdDhtFunctions.
        * Switched bdquery.cc to use bdNumQueryNodes().
        * Extended bdStdDht class to bdModDht to allow NodesPerBucket to be modified.
        * Fixed up Connection Fail Callback for Relay Servers.
        * Added Extra debugging for Proxy Connections.
        * disabled turtle routing for relayed connexions

  * Bugs
     - lobby participant list now updated when peers join/leave
     - Added chat lobby privacy type to lobby invite => lobby type is propagated 
        correctly to friends that are invited.
     - Bugfix for natassist (zeroconf returns 0.0.0.0:0 when its doesn't work).
     - Logged IP Addresses for Failed incoming connections.
     - Hacked IP address into the NewsFeed notifications (ugly).

     - Attempts at fixing disconnections :)
        * Added limit of 10kB for Certificate size. If it is bigger - discard certificate.
        * Remove certificates for slow / trickle connections (for Relay connections).
        * Disabled check for gpgcert text in p3disc.
        * Disabled creation of GPG Cert in AuthGPG.
        * Added extra error code to pqinetwork.
        * Added DataRate accounting to Relay and Dht.
        * Rates are exposed through rsDht.h interface.
        * Added LastIncomingTS() to pqistreamer.
        * Turned HeartBeat reset() into a warning.
        * Added NoPacket in 60 sec reset().
        * Minor typos/errors corrected.

     - Fixed message reply and forward. The new lines were removed falsely.
     - Improved logging of Connection Behaviours.
     - Added history for chat lobbies and disabled it until the lobbies are saved.
     - Added check in cachestrapper to see if a duplicate cache has been requested.
        In this case, don't cancel the old one - just keep going!

 -- Cyril Soler <csoler@users.sourceforge.net>  Thu, 24 Jan 2012 19:00:00 +0100

retroshare (0.5.2-0.4783~natty) natty; urgency=low

  * Improvements
      - Added Chat Lobbies: decentalized anonymous chat rooms.
        * Chat lobbies are private (on invitation only) or public (friends can join)
        * Bit of GUI to show lobby list, with one tab per active chat lobby
        * Most fonctionality of chat are ported to lobbies including status messages
        * Internally to libretroshare, lobbies are virtual peers to talk to. 
        * Deriving a RsItem from ChatLobbyBouncingObject allows the item to be bounced
          to all peers in the lobby.
        * Improved message splitting by adding sub item ids to lobby messages. Should 
          be ported to normal chat in the next version.
        * Added parent id to RsChatLobbyMsgItem, to allow threaded chat.
        * List of public lobbies at friends are requested only when needed 
        * Major cleaning of p3chatservice.cc

     - Added new entry in config->transfers to allow reserving n slots to non cache transfers
     - Add the ip address of the DNSResolver to the top of the list of the connect addresses.
     - Little design improvements for Plugin Item
     - Added manual entry for plugins
     - Added relay connexions (Note: There are still some service changes required to 
       reduce the traffic over relays)
        * Merging Dht Relay improvements into the trunk. These changes should finally make relays functional.
        * Changed the way proxy/relay peers are selected in bdConnection. (needs more work).
        * Added LinkType to peer info in p3LinkMgr & rspeers.h interface.
        * Added getConnectionType() to p3PeerMgr. This defaults to FRIEND for the moment.
        * Provide information about Bandwidth, Transport and Peer Type via LinkType().
        * Added RateCap() to limit traffic over Relay connections.
        * Set Internal Rate to 75% of Relay Limit to account for transport overhead.
        * Added various #include "util/rswin.h" to fix compile errors with standard ssl package.
        * Removed Local variables (mConnectProxyAddr, etc) which were hiding Class Variables.
        * Cleaned up bits in pqissl.cc and p3linkmgr.cc
        * Increased UDP Relay Packet size (max transport of 1400 bytes per UDP packet)
        * Modified checkRelay() to use Low Pass Filter to calculate Relay Bandwidth.
        * Improved udprelay debugging.
        * increased (x2) Relay Lifetimes - this is so that enough useful data can be transported (1meg).
        * Added LOCALNET_TESTING code to rsinit.cc. This allows Port Restrictions to simulate firewalls.
        * more debugging and minor bugfixes.

       libbitdht
        * added Relay Flags to bdNode::setNodeDhtMode()
        * added dropRelayServers() / pingRelayServers() functions for mode switches
        * added utility function:  bdFriendList::findPeersWithFlags()
        * added utility function:  bdSpace::clean_node_flags(uint32_t flags)
        * added RelayMode to ConnectManager.
        * added failedConnection callback when in Server Mode.
        * added incomplete udpproxylayer code. (not compiled)
       
       libretroshare
        * added Configuration to p3BitDht for storing Relay Settings. (bit Hackish!)
        * added RelayHandler & getRelayReceiver() - to outsource some Relay functions.
        * + RelayHandler_InstallRelayConnection() & RelayHandler_LogFailedProxyAttempt()
        * added RelayServer, Mode and RelayAllowance to external DHT interface.
        * added p3PeerMgr::getGpgId() for ZeroConf usage.
        * updated parts of pqiassist virtual interfaces.
        * added Bandwidth storage to udprelay.
        * modified the way Relay Slots are allocated to match GUI interface.
        * ZeroConf now working on OSX.
        * added ZeroConf to OSX compilation.
        * extended rsDht interface to expose Relay configuration.
       
       retroshare-gui
        * added Relay configuration panel.

 -- Cyril Soler <csoler@users.sourceforge.net>  Thu, 12 Jan 2012 19:00:00 +0100

retroshare (0.5.2-0.4747~natty) natty; urgency=low

  * Improvements
     - Added the real size of all files of a collection to the link when added with drag and drop.
     - ConnectionFriendWizard: Show the messagebox "Your Cert is copied to Clipboard" after copying the cert into the clipboard.
     - Removed "release" from the win32 build in retroshare-nogui.pro.
     - Added retroshare-nogui to the subdir project.

     - DHT (Merging r4705 through r4717 from retroshare/branches/v0.5-dhtmods)
       * Switched on Local BadPeer DHT Filter.
          - This will remove any peer detected to be spoofing yourself or your friends.
          - This list is also shared with you friends. (in Test Mode).
       * Added Cleanup of BadPeer Filter.
          - Instead of permanent ban, peers are be banned for 6 hours.
          - bdManager periodically calls this - which prints out ban list too.
       * Added Checks against spoofing to UdpStunner.
          - Throw away Stun Results where remote_addr = reported ext_addr.
          - Added extra checks to ensure that the same Ext IP is returned, before reporting.
          - accept BadPeer List from DHT BadPeer Detection.
       * Changed BanList Service Id from Test ID to Real ID.

     - Added new widget for hashing files.
     - Added new common class FilesDefs to handle informations of file types like icons and names.
     - Removed calls to exit() in rsinit. Replaced them by proper return false
     - Adjustment of some values for file transfer: some delays can be larger, now that chunks are shared between sources. This makes file transfer more stable:
        FT_TM_DOWNLOAD_TIMEOUT: 10 -> 20 secs (RTT limit of 10 secs is too low -> transfers in long tunnels kept switching between active and inactive)
        INACTIVE_CHUNKS_CHECK_DELAY: 60 -> 240 secs (Chunks are kept longer before beign cancelled, which is now affordable)
        MAX_TIME_INACTIVE_REQUEUED: 60 -> 120 secs.(Transfers a kept longer before being re-prioritized in queue)

  * Bug fixes
     - Added the size of the collection to the link only for files (missing test)
     - Show the correct name in the title of the RsCollectionDialog when the filename contains ".".
     - Fixed creating of the download path of the collection when running as portable version.

 -- Cyril Soler <csoler@users.sourceforge.net>  Wed, 21 Dec 2011 20:30:00 +0100

retroshare (0.5.2-0.4706~lucid) lucid; urgency=low

  * Improvements
     - DHT:
        * Reduced Default DHT Message rate from 50msg/sec to 5msg/sec
           (Searches now take longer, but it should make crappy firewalls happy.)
        * Added Interface to allow this rate to be dynamically changed (no GUI yet).
        * Bugfixes for p3BanList: removed internal IPs from Lists, fixed AddBanPeer() logic bug.
        * Disabled p3Dsdv, after brief test.
        * Added knowledge of Friends / FoFs and Relays to DHT.
        * Added bdFriendList class to store this information.
        * Added Checks against known Peer:IP information to detect bad peers.
        * Bad Peer Checking is in Test Mode Only for the moment,
        * New Interfaces to exchange above information with libretroshare
        * Cleaned up various compiler warnings.
     - GUI
        * Added new button "Open Collection" in TransfersDialog.
        * Show main window with click on system icon when the main window is minimized.
        * Beautified RsCollectionDialog.
        * Fixed german language.
        * Added new column "Last Contact" to the FriendsDialog and MessengerWindow. 
          Moved some more basic functions to FriendsList and optimized the exisiting code.
        * Added translation for plugins and added german language to LinksCloud. Recompile needed.
        * Changed the name and the description of the plugin to utf8.
        * fixed download priority handling. Proof-tested on multiple DL from the same peer.

     - libretroshare Improvements:
        * corrected disabled RequestdirDetails in FileIndexStore to be able to retrieve root directory of a user ID
        * removed dependency of mRateIncrease into measured rtt -> would cause very slow transfers through long tunnels
        * Removed compiler warnings.
        * Added p3BanList Service and DataTypes to exchange Bad Peer information.
        * Added Plumbing to get info from network to DHT and back.
        * Supply Friend List from p3LinkMgr
        * Supply Friend of Friend List from p3Disc.
        * Added p3Dsdv Service and DataTypes for NetworkWide Routing (Testing Mode).
        * Various BugFixes.
        * Patch Manual Forward mode to preserve user selected Port.

  * Bug fixes
     - 2 bug fixes (by AsamK) to make rscollection files compatible with utf8
     - fixed bug asking data to deleted mTransfer

 -- Cyril Soler <csoler@users.sourceforge.net>  Wed, 02 Dec 2011 20:30:00 +0100

retroshare (0.5.2-0.4653~lucid) lucid; urgency=low

  * Improvements
     - implemented handling and creation of collection files
     - improved computation of CRC32 maps (separate thread, cache keeping, sending of keep-alive packets)
     - fixed compilation of some tests in libretroshare/src/tests/ft/
     - updated german language
     - started implementing a file mapper to allow linear download of data with automatic de-fragmentation (not enabled yet)

  * Bug fixes
     - bug in CRC32 map cross-checking: only downloaded chunks would be checked.
     - fixed bug in file transfer re-allocating a local variable

 -- Cyril Soler <csoler@users.sourceforge.net>  Wed, 09 Nov 2011 20:30:00 +0100

retroshare (0.5.2-0.4653~lucid) lucid; urgency=low

  * Improvements
     - removed delay in file checking that would cause excessively long file update cycle
     - implemented slice sharing between peers.
     - Replaced spaces with %20 in RetroShare links.
     - obfuscation of TR and SR by random rare non-increase of length 1 requests (original idea by Costa)
     - layout changes for PluginItem, fixed qrc resource load in plugins.

  * Bug fixes
     - corrected bug about wrong layout of friend list (patch from asamK)
     - corrected bug that would allow a direct friend to DL a file that is NETWORK_WIDE only, using direct transfer

 -- Cyril Soler <csoler@users.sourceforge.net>  Sun, 24 Oct 2011 20:30:00 +0100

retroshare (0.5.2-0.4642~lucid) lucid; urgency=low

  * Improvements
     - updated build scripts and .pro files forubuntu oneiric
     - fixed plugin system on windows.
     - updated french translation
     - Add the private chat message to the history after removing the private chat 
       queue (when the user has read the message).
     - Added loading text to forumsdialog and enabled percentage numbers to be shown also
     - added display of TR forwarding probability as a function of depth. 
     - Moved the chat history into the libretroshare.
        * Now the history is saved encrypted. Please delete all files with "chat*.xml" in your profile folder.
        * Added new config p3HistoryMgr and interface p3History.
        * Added new option to limit the count of the saved history items.
        * Added new simple html optimizer "RsHtml::optimizeHtml" to reduce the size of the html strings.


  * Bug fixes
     - fixed issue of loading the correct instance of RetroShare.conf when switching 
       locations (Patch from AsamK #3423256)
     - fixed utf8 issues (umlauts in the Windows user name, search string with utf8, 
       location names, links from browser, history manager)
     - fixed update of friend status in chat window
     - fixed bug with anonymous channels asking for friends to be sources
     - fixed link passed issue due to usin self-closign links (Patch from Asamk #3418941)
     - fixed display of filename when an upload is a partially downloaded file
     - removed early pruning of TR which was preventing any TR to go beyond the limit 
       in case of heavy traffic. Pruning now applied probabilitically at end of loop.

 -- Cyril Soler <csoler@users.sourceforge.net>  Sun, 16 Oct 2011 20:30:00 +0100

retroshare (0.5.2-0.4622~lucid) lucid; urgency=low

  * Improvements
     - Changed default random number generator to use RAND_bytes from openssl. 
     - Updated random testing code and fixed compilation
     - Fixed compilation on FreeBSD, and improved sorting on DHT window
       (Patch from Ben Laurie)
     - Added next unread button to forums (patch from devnewton #3401840)
     - Fixed inaccurate text in transfer page
     - Removed calls to rsfiles->get{Download,Partials}Directory() in RsDiscSpace 
       class, since it would trigger a call to ftController
     - Changed names of functions in ftTransferModules to locked_* when appropriate 
       (helps debugging)
     - Show the availability status of peers at the level of locations instead of GPG
       keys (patch from AsamK)
     - Added paste of RS links to post on channels, and additional check that the file 
       is actually shared.

  * Bug fixes
     - fixed missing TCP connection call - when peer is found on the DHT.
        * save IP address for DHT display.
        * store Action in action Queue (the BUG).
     - fixed sorting of transfer by priority
     - fixed utf8 issues in sending cert by email (patch from asamK #3393826)
     - added a lock into ftTransferModule::recvFileData() (Crash reported by Costa 
       of data race due to storing data in a deleted transfer module)
     - Added chunk splitting in case part of the file transfer data does not come. 
       Added strategy to ask again for missing data. The combination of these two cannot 
       result into an infinite loop (as before)

 -- Cyril Soler <csoler@users.sourceforge.net>  Thu, 29 Sep 2011 20:30:00 +0100

retroshare (0.5.2-0.4608~lucid) lucid; urgency=low

  * Improvements
     - Stopping hash when a shared directory containing the file was removed
     - Reworked the process of the RetroShare links. Now RetroShare asks when 
       adding a file or a person link and shows a detailed result.
     - Merging distrib split into trunk, suppressed p3distrib in services 
     - Send msg in plain text when the html encoding does not change anything
       into the message. This drastically reduces message s size
     - Added missing status frame for idle.
     - Merged QoS branch into trunk.
     - Set own status initially to online
     - Added double click to NetworkDialog to show the peer details
     - Put some pqissl warnings in log file only in debug mode, since this is quite CPU demanding
     - Added new widget to display an avatar with or without the status frame - AvatarWidget.
       Changed all existing avatars to AvatarWidget.
     - Added avatar image to ConfCertDialog (defnax).
     - Added new class AvatarDefs to get the avatar for a ssl id or gpg id

  * Bug fixes
     - Fixed bug fue to deleting ftFileCreator used by datamultiplex before 
       asking datamultiplex to remove it!
     - Fixed crash in pqiSSLstore::readPkt() when rsSerialiser->deserialise() returns NULL
     - Added auto-split of long private messages, and re-combination of partial messages on 
       client side. Corrects the bug causing disconnection when sending messages of side 
       larger than the maximum packet size
     - Patch from AsamK to fix up crash at startup due to a missing else in config load

 -- Cyril Soler <csoler@users.sourceforge.net>  Fri, 16 Sep 2011 20:30:00 +0100

retroshare (0.5.2-0.4584~lucid) lucid; urgency=low

  * Improvements
     - changed local root directory to be "My files" instead of SSLid
     - set default of the signature checkbox in ConnectFriendWizard to disabled
     - set the initial option for the download directory to network wide only
     - set the default of a new shared directory to network wide
     - added private groups option to forums
     - Added a new checbox in the settings (NotifyPage) to enable/disable the
       new SecurityItem. It is enabled by default, but all existing users need to enable it.
     - Added new buttons to SecurityItem to add/remove the peer and view peer details.
     - Added new call to notifyListChange with NOTIFY_LIST_FRIENDS in AuthGPGimpl::AllowConnection.
     - Fixed german language.
     - Removed "location:" before the ssl name in FriendsDialog and MessengerWindow.

  * Bug fixes
     - fixed up color codes for qt 4.7 in NetworkGraph (bug in qt::lighter())
     - corrected a few bugs in the cert cleaning method.
     - corrected several utf8 issues (for peer names, in private chat and file list, and search)
     - fixed time display in security item
     - removed potential mem leak with p3distrib group edit
     - Added check for administrator rights to add/remove the retroshare:// protocol.

 -- Cyril Soler <csoler@users.sourceforge.net>  Sat, 13 Aug 2011 20:30:00 +0100

retroshare (0.5.2-0.4550~lucid) lucid; urgency=low

  * Improvements

     - Plugin system 
        * Added configuration saving for plugin manager and serialization methods
        * added a list of accepted plugin hashes
        * added plugin widget for each plugin in settings, to allow enabling/disabling plugins
        * updated LinkCloud plugin to new rsPlugin class
        * put the addconfiguration for plugin manager in rsinit.cc a bit earlier to allow to load 
          the list of accepted hashes early enough
        * added icon for disabled plugins
        * added missing Q_INIT_RESOURCE call to get the plugins icon loading correctly
 
     - GUI 
        * Fixed an error when cancel the login password dialog at startup, the password dialog can be canceled. 
        * Fixed layout in GeneralPage under Windows (there are three additional checkboxes).
        * Applied patch to enable the sort of the columns star and unread in messages (from AsamK)
        * Added missing "FORWARDED_PORT" case to natstatus
        * updated Dht and Nat Indicators to accurately reflect Network status. Roughly:
           - DHT. Off:     gray, ERROR:   red, NO RS PEERS:           yellow, GOOD: green.
           - NAT. Offline: gray, BAD NET: red, NO DHT, or FIREWALLED: yellow, GOOD: green
        * added Advanced mode to the GUI
           - Switched ServerPage to use netMode, rather than tryNetMode. This fixes the Network Status.
           - Added "Advanced Mode" to Settings GeneralPage.
           - Store / Set Advanced Mode via rsConfig::get/setConfigurationOptions.
           - removed %0D%0A from Linux / OSX emails - made it Windows Only.
           - updated GetStartedDialog text.
           - disable GetStartedDialog is AdvancedMode is set.
           - Enabled buttons for "Invite Friends" and "Add Friend". Linked to Email Invite, and Connect Friend Wizard.
           - Switched out FAQ for links to website, and email support buttons.
        * Added Basic Dht Details Window to Retroshare GUI.
           - created gui/dht/DhtWindow class.
           - brought across the basic structure from PeerNetQt... will be a condensed version of that GUI.
           - added to status Menu.
           - enabled via #define USE_DHTWINDOW  (which is defined! in MainWindow at the moment).
           - Dht Details only displays Dht Peers at the moment.
        * Net, Dht and Configuration changes.
           - set PortForward in NetStateBox when the Network has been setup.
           - add GeneralConfig to rsConfig external interface.
           - enabled ADVANCED configuration option.
        * Addition of a "Getting Started Guide".
        * Optimized layout of the SubFileItem.
        * Optimized layout of the private chat window.
        * Show the cancel button only when downloading or when used in CreateChannelMsg.
        * Fixed layout problem (vertical scrollbar) in ChannelFeed.
        * Added a new image to the private chat window to set the window always on top.
        * Indent text of the channel message and set it to selectable.
        * Removed the single notify systray icon (combined icon) and combined it with the 
          normal RetroShare systray icon. The user can choose, which notify icon is shown as 
          single icon in systray or with the normal RetroShare icon.
 
     - Key mamagement
        * added a signature add/remove button in connect wizard, only when gpgme-1.3.1 or greater is used, 
          based on the availability of the GPGME_EXPORT_MODE_MINIMAL option.
 
     - Connectivity
        * Added Second Queue, to check if connections are actually valid before installing.
        * Added Check of Time for main Core Cycle.
        * Fixed Bug in choosing port for Proxy UDP. Chooses a Random one between 30000-50000.
        * Added Address update from p3NetMgr => p3PeerMgr, when external address has been determined.
        * Simplification of p3ConnectMgr => p3LinkMgr, p3PeerMgr & p3NetMgr.
           - p3peermgr now uses RS_NET_MODE_XXXX instead of RS_NET_MODE_TRY_XXXX
           - p3netmgr maintains both TRY and ACTUAL mode (not visible through old interface -- TO FIX)
           - added default to UPNP mode.
        * Increased TCP WAIT time to allow external port to stabilize.
        * Improvements to tcponudp library to allow multiple UdpStacks / ports, with alternative receivers.
        * Improved a lot UDP Connection Code 
           - Increased Timeout Periods for UDP connections - this was stopping half of them from succeeding.
           - Export UDP Addresses to DhtWindow.
           - disabled DIRECT UDP connections (Not always stable, especially if you are firewalled, and not 
             needed as a TCP connection can be made!)
           - Added DropPeers() as NON-ACTIVE (this allows peers which aren't VISIBLE to still try and connect)
           - Resurrected the UdpStunner code, and improved it.
           - Added UdpRelay code.
           - Modified startup code and ssludp code to use the new tcponudp and add a stunner.
        * Added notifications of Failed Connection Attempts in both ways
 
     - Services
        * Refactored p3chatservice move avatar declaration to p3chat header and encapsulating config methods
        * added www.myip.dk, and removed showmyip.org address from extaddrfinder
 
     - Internationalization
        * Fixed german language.
        * Changed the generation of the gpg key and location to utf8. 
 
     - DHT
        * Added Bloom filter to speed up finding RS peers in DHT.
        * Added External DHT Interface to display Connection Information.
        * extended p3bitdht to provide RsDht interface. (p3bitdht_interface.cc)
        * Switched on Dht "Attach" Mode if RS is firewalled. (and not nice firewall).
        * Added interfaces to enable AttachMode switch.
        * Updated bdboot file.
 
     - Tests
        * Restored and improved regression test for tcponudp
        * Added another Test UdpLayer: TimedUdpLayer, This simulates the firewalled situation, by
          only accepting packets after 60 seconds.
        * Added quick and dirty BitDht Packet check. test against "d1:" for the first 3 bytes. This should 
          not conflict with Stun, Relay or TOU packets.
 
     - packaging
        * Added win32 build bat for libbitdht
 
  * Bug fixes
     - Fixed "double-click" chat startup bug, the gpgOnly flag was incorrectly set false.
     - Fixed the sending of outgoing messages
     - Removed popup window for file copy error, and redirected the message to std::cerr, to save users.
     - Set maximum port value to 65535 instead of old arbitrary value of 50000, and warned about 
       system-reserved ports in server settings gui enabled sorting and added dht icon for the window
     - Fixed bug in dnsresolver reset function
     - Silly Bug, overwritten the mConnectFlag with the Bandwidth parameter.
     - Added missing mutex protection that caused random SIGSEGV in p3disc
     - Corrected a bug due to reading uint64_t with wrong format on some systems, which caused the hash cache to sometime fail
     - Fixed bug for 'copy error' and losing cache data conflict in unix and windows style directory 
       names led to cleaning of remote and local directories in Cachestrapper::loadlist()
     - Bugfixes to serialization
         * print out messages when serialisation fails.
         * removed BUG in TlvGetString() which allows a zero length TLV 
     - Fixed startup bug (loops into FAILURE)
     - Fixed buggy rs_inet_ntoa
     - Fixed a bunch of apple gcc warnings. mainly for(;;); => for(;;) ;
     - Stops loading of a cache in p3GroupDistrib::loadFileMsgs on shutdown of RetroShare.
     - Fixed early initialization of QIcon in LinksCloud plugin
     - Fixed duplicate msgs found between cachefile being formed (caused by not marking cache opt loaded files as local or not)
       also missing own-msgs bug caused by not accounting for msgs created by users
     - Added a name to the RsMutex class, allowing debugging of the waiting time for a lock of RsMutex in 
       rsthreads.h with #define RSMUTEX_DEBUG 300. That means all locks waiting longer than 300ms are logged into the stderr.
     - Added missing notify when sending a message to an offline user.
     - DHT code:
         * fixed up buggy overloading for the udplayer (for testing).
         * added processing multiple (5) remote processes per tick 
         * removed unused variables from query data structure.
         * #defined out debugging in bdSpace, removed old functions.
         * More agressive attempts to find proxies for connections.
         * made "final query attempt" use exact peer address rather than midid.
         * tweaked bdconnection debugging.
         * increase CONNECTION_MAX_TIMEOUT from 30 => 45. wasn't enough!
         * Limited bdQuery::QueryIdlePeriod to 15min (was unlimited).
         * added bdQuery::PotentialPeer cleanup functions - for more robust reporting.
         * fixed bdQuery debugging printouts.
         * Implemented BITDHT_QFLAGS_UPDATES flag.
      - TcoOnUdp code:
         * Reduce Maximum Transmission size from 1500 -> 1000. This is the cause of Failed Connections. 
           It looks like UDP packets are being truncated from 1520 -> 1492 bytes, and this is killing the 

 -- Cyril Soler <csoler@users.sourceforge.net>  Sat, 13 Aug 2011 20:30:00 +0100

retroshare (0.5.1-0.4350~lucid) lucid; urgency=low

  * Improvements
      - Updated tests for tcponudp. 

  * Bug fixes
      - fixed bug in search with size in MB. Caused crash due to deserialization error.
      - Added Check for the existance of each Cache File before that are passed on the loader.
        This should once and for-all remove the copy file warnings 

 -- Cyril Soler <csoler@users.sourceforge.net>  Tue, 28 Jun 2011 19:35:46 +0100

retroshare (0.5.1-0.4337~lucid) lucid; urgency=low

  * Bug fixes
      - Fixed the cache transfer killing bug (misplaced brackets)
      - Fixed bug in pqissl wrongly casting a pointer to unsigned long, possibly impacting 64bit systems
      - Fixed bug responsible for corrupting large packets. Solved the chat bug,
        the errors in GetTlvString, the corrupted exchange of keys, location names, etc.

 -- Cyril Soler <csoler@users.sourceforge.net>  Sat, 25 Jun 2011 19:35:46 +0100

retroshare (0.5.1-0.4331~lucid) lucid; urgency=low

  * Improvements
      - Started dev of plugin system. Works on linux, not yet on windows.
      - Added gui for plugins in Settings
      - Ported LinksCloud service as a plugin
      - Improvement of the unit tests, and coverage calculations.
      - Hash cache: missing root directories are not discarded anymore, but kept empty, 
        unless the user really removes them explicitely.
      - Reworked settings dialog
      - Automatic add the recommended friend(s) as CC in the MessageComposer.
      - Send plain text message instead of html, when the text contains no html specifics. 
        This is a huge gain in forum posts size, up to a factor of 50
      - Enabled Spanish translation
      - Moved the fill function of the ForumsDialog to a QThread.
      - Made multiple keyword search use an AND instead of an OR. 

  * Bug fixes
      - Fixed display of upload transfers
      - Fixed the Missing Cache File bug.
      - Added Old Cache Storage... so these can be retrieved.
      - Connected up the CancelCacheFile() -> FileCancel.
      - Removed "ipaddr=1" bug 
      - Fixed uninitialized value in p3turtle
      - Fixed html title bug in forum message when answering from news feed
      - Fixed reaction of the checkbox "web of trust"
      - Fixed calculation of the unread messages in MessagesDialog
      - Corrected bug that would wipe out the hash cache file every other start
      - Fixed crash in ForumsDialog 
      - Fixed memory leak of the fill thread of the history browser
      - Fixed refill of the threads tree after receiving a new message. Now the new message is expanded.

 -- Cyril Soler <csoler@users.sourceforge.net>  Mon, 11 Apr 2010 21:35:46 +0100

retroshare (0.5.1-0.4239~lucid) lucid; urgency=low

  * Improvements
      - Optimized the functions for the forum messages.
      - added a star functionality to forums
      - placed private message editing into a separate window
      - added a tab to graphically display turtle router statistics
      - added automatic handling of turtle requests/search conjestion cases
      - patched for compilation on OpenSuze11.4
      - put links to peer and signers in certificate dialog
      - updated french translation
      - added copy/paste functionality of RS links to friends keys
      - various GUI tweaks
      - added to RetroShare Help page noew commands entry for "-r retroshare://..."
      - added history cache optimisation to subscribed/client groups (functionality is now disabled)
      - Added new RetroShare link format to write a message retroshare://message?id=...[&subject=...]
      - Added new RetroShare link format to start a search retroshare://search?keywords=...
      - Enabled on Private Chat to display for the status string smileys, when there is smiley codes used.

  * Bug fixes
      - Channels: Fixed bug related to opening cache hist file in text mode for windows
      - Chat:     Sending large messages now works, thanks to RsChatMsgItem splitting (not 100% backward compatible, but avoids crashing)
      - Chat:     Removed crash due to dynamic_cast onto a deleted pointer.
      - Dbase:    Removed the difference of the separator for Linux and Windows.
      - Dbase:    Removed extra "/" of the filename (e.g. "E://") of the hashed file when sharing a whole drive.
      - Forums:   Fixed drag and drop of files to a forum message with utf8 chars.
      - General:  Fixed recommend friend.
      - Search:   Fixed sorting by date in search

 -- Cyril Soler <csoler@users.sourceforge.net>  Mon, 11 Apr 2010 21:35:46 +0100

retroshare (0.5.1-0.4179~lucid) lucid; urgency=low

  * Improvements
      - updated packaging for ubuntu natty, removed dependency on qt4-opengl
      - updated french/german translations 
      - updated icons 
      - enabled drag and drop of directories in share manager

  * Bug fixes
      - suppred unwanted apparence of channel source id as channel source
      - improved strategy for cleaning stalled cache transfers
      - fixed leaking of sources in channel posts

 -- Cyril Soler <csoler@users.sourceforge.net>  Mon, 11 Apr 2010 21:35:46 +0100

retroshare (0.5.1-0.4166~lucid) lucid; urgency=low

  * Improvements
      - made flat view for shared files less CPU demanding
      - added automated treatment of RS links from web browser

  * Bug fixes
      - removed potential segfault when decrypting cache file

 -- Cyril Soler <csoler@users.sourceforge.net>  Mon, 11 Apr 2010 21:35:46 +0100

retroshare (0.5.1-0.4154~lucid) lucid; urgency=low

  * Improvements
      - added flat view for shared files, with search, sorting and temporised update
      - enabled file preview for partially downloaded files, for non windows users
      - removed display of directories from search
      - added auto-download option to channels
      - added random bias to turtle search and tunnels at maximum depth, to prevent security issues
      - added biased rerouting of tunnels requests to statistically optimize tunnel length
      - made sign GPG button disabled by default
      - optimized lookups of/into FileEntry structures (faster, better memory coalescence)
      - added tunning for auto-check of shared directories, in config
      - updated french/german translations
      - saved the visible state of the avatar picture in private chat for the friend.
      - removed own settings for news feed
      - added tooltip for systray to display nickname and location
      - made lock file warning more explicit

  * Bug fixes
      - channel download is now called only once for each channel post
      - fixed cleaning issue of certificates. Added a button in cert dialog for cleaning. 
      - removed automatic cleaning of certs.
      - fixed bug with utf8 chatacters in %appdata% paths on windows
      - fixed crash on shutdown when the cache loading is running
      - fixed some stylesheets to use gradients instead of a background images,
      - fixed thread leak in file checking due to not calling pthread_join() on finished thread
      - showing uploads by default, instead of current transfer

 -- Cyril Soler <csoler@users.sourceforge.net>  Mon, 11 Apr 2010 21:35:46 +0100

retroshare (0.5.1-0.4097~lucid) lucid; urgency=low

  * Improvements
      - attempt to make GPG errors more verbose at cert exchange time
      - translate QuickStartWizard, GenCertDialog and StartDialog into german
      - fixed tab order of the upload and download settings in QuickStartWizard
      - Added a basic description of the chat style
      - Added share incoming directory to the QuickStartWizard, while keeping 
        the Download directory shared by default

  * Bug Fixes
      - implemented a backward compatible fix for advance searching with size 
        larger than 2Gb
      - implemented a better management of tunnel requests


 -- Cyril Soler <csoler@users.sourceforge.net>  Thu, 07 Mar 2010 21:35:46 +0100

retroshare (0.5.1-0.4087~lucid) lucid; urgency=low

  * Improvements
      - The working (hashing) thread FileIndexMonitor is now stopped when RetroShare is closed.
      - Removed tab focus from the toolbar and image buttons.
      - Fixed german translation.

  * Bug Fixes:
      - Fixed a toolbar icon to display with a correct size on macosx
      - Added missing return... which was causing crash at start during directory creation.
      - Supressed memory leak due to not deleting a RsItem
      - Suppressed potential SIGSEGV as exit time

 -- Cyril Soler <csoler@users.sourceforge.net>  Thu, 07 Mar 2010 21:35:46 +0100

retroshare (0.5.1-0.4069~lucid) lucid; urgency=low

  * Improvements:
      - Added a confirm to the delete history action.  
      - Added the RetroShare icon to the password input window. 
      - Added display of number of intermediate tunnels, and limited the number of displayed tunnel requests 

  * Bug Fixes:
      - Fixed potential SIGSEGV because of not checking returned pointer in DHT code. 
      - Fixed memory leak in GUI responsible for high leaks in large networks.
      - Fixed memory leak in p3distrib

 -- Cyril Soler <csoler@users.sourceforge.net>  Thu, 28 Feb 2010 21:35:46 +0100

retroshare (0.5.1-0.4059~lucid) lucid; urgency=low

  * Release 0.5.1: 
      New features (DHT, Channels, Network View), Improved stability w.r.t. previous version 0.5.0g

 -- Cyril Soler <csoler@users.sourceforge.net>  Thu, 24 Feb 2010 21:35:46 +0100
